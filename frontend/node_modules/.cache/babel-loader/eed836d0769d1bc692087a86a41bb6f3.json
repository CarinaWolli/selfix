{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/carinawollendorfer/selfix/frontend/src/views/Tutorial.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withRouter } from 'react-router-dom';\nimport { Grid, Box, Card, Container, Typography, CardContent, Paper } from '@material-ui/core';\nimport { ListOutlined, AccessTime, Speed } from '@material-ui/icons';\nimport Image from 'material-ui-image';\nimport TutorialStep from '../components/TutorialStep';\nimport BookmarkButton from '../components/BookmarkButton';\nimport AffiliateProductCard from '../components/AffiliateProductCard';\nimport Loading from '../components/Loading';\nimport { setBookmarkedTutorials } from '../redux/actions/bookmarkActions';\nimport BookmarkService from '../services/BookmarkService';\nimport TutorialService from '../services/TutorialService';\nimport ShopComponentService from '../services/ShopComponentService';\nimport BikeComponentService from '../services/BikeComponentService';\nconst useStyles = makeStyles(() => ({\n  title: {\n    fontWeight: 600\n  }\n}));\n\nfunction Tutorial(props) {\n  _s();\n\n  const classes = useStyles();\n  const user = useSelector(state => state.user);\n  const bookmarksRedux = useSelector(state => state.bookmarks.bookmarkedTutorials);\n  const [tutorial, setTutorial] = React.useState();\n  const [toolOptions, setToolOptions] = React.useState({});\n  const [shopComponents, setShopComponents] = React.useState([]);\n  const [bikeComponent, setBikeComponent] = React.useState({});\n  const tutorialID = props.match.params.id;\n  const bikeComponentID = props.match.params.componentId ? props.match.params.componentId : '';\n  React.useEffect(async () => {\n    try {\n      const tutorial = await TutorialService.getTutorialWithToolOptions(tutorialID);\n      setTutorial(tutorial);\n\n      if (tutorial.toolOptions) {\n        setToolOptions(tutorial.toolOptions);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [props.match.params.id]);\n  React.useEffect(async () => {\n    try {\n      const shopComponents = await ShopComponentService.listByBikeComponent(bikeComponentID);\n      setShopComponents(shopComponents);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [props.match.params.id]);\n  React.useEffect(async () => {\n    try {\n      const bikeComponent = await BikeComponentService.getBikeComponent(bikeComponentID);\n      setBikeComponent(bikeComponent);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [props.match.params.id]);\n\n  const checkIfBookmarked = () => {\n    for (const i in bookmarksRedux) {\n      if (bookmarksRedux[i].tutorialId === tutorialID && bookmarksRedux[i].componentId === bikeComponentID) {\n        console.log('Tutorial: ' + bookmarksRedux[i].tutorialId + ' === ' + tutorialID);\n        console.log('Component: ' + bookmarksRedux[i].componentId + ' === ' + bikeComponentID);\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  return !tutorial ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      alignItems: \"flex-start\",\n      justify: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          mt: 4,\n          mb: 1,\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            className: classes.title,\n            children: tutorial.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BookmarkButton, {\n            bookmarked: checkIfBookmarked(),\n            size: 38,\n            bookmarkFunc: () => {\n              // Not logged in\n              if (!user) {\n                return;\n              } // Do not bookmark if componentID is missing\n\n\n              if (bikeComponentID === '') {\n                return;\n              }\n\n              const tutorialBookmark = {\n                tutorialId: tutorialID,\n                componentId: bikeComponentID\n              }; //Filter out current tutorial\n\n              const filtered = bookmarksRedux.filter(bookmark => !(bookmark.tutorialId === tutorialID && bookmark.componentId === bikeComponentID));\n\n              if (!checkIfBookmarked()) {\n                // Send bookmark to backend and save in redux\n                BookmarkService.bookmarkTutorial(tutorialBookmark);\n                const bookmarkCopy = [...bookmarksRedux];\n                bookmarkCopy.push(tutorialBookmark);\n                props.dispatch(setBookmarkedTutorials(bookmarkCopy));\n              } else {\n                // Send bookmark to delete to backend and remove from redux\n                BookmarkService.removeBookmarkTutorial(tutorialBookmark);\n                props.dispatch(setBookmarkedTutorials(filtered));\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        sm: 5,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          mb: 3,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            variant: \"outlined\",\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              src: tutorial.imageUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        sm: 7,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            xs: 12,\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  alignItems: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    container: true,\n                    xs: 8,\n                    md: 9,\n                    children: [/*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      container: true,\n                      xs: 3,\n                      sm: 2,\n                      md: 1,\n                      children: /*#__PURE__*/_jsxDEV(Speed, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 154,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      container: true,\n                      xs: 9,\n                      sm: 10,\n                      md: 11,\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body1\",\n                        children: \"Difficulty\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    container: true,\n                    xs: true,\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body1\",\n                      children: tutorial.difficulty\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            xs: 12,\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  alignItems: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    container: true,\n                    xs: 8,\n                    md: 9,\n                    children: [/*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      container: true,\n                      xs: 3,\n                      sm: 2,\n                      md: 1,\n                      children: /*#__PURE__*/_jsxDEV(ListOutlined, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      container: true,\n                      xs: 9,\n                      sm: 10,\n                      md: 11,\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body1\",\n                        children: \"Steps\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 177,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    container: true,\n                    xs: true,\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body1\",\n                      children: tutorial.steps.length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            xs: 12,\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  alignItems: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    container: true,\n                    xs: 8,\n                    md: 9,\n                    children: [/*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      container: true,\n                      xs: 3,\n                      sm: 2,\n                      md: 1,\n                      children: /*#__PURE__*/_jsxDEV(AccessTime, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 194,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      container: true,\n                      xs: 9,\n                      sm: 10,\n                      md: 11,\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body1\",\n                        children: \"Time Required\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 197,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    container: true,\n                    xs: true,\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body1\",\n                      children: [tutorial.timeRequired, \" minutes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        spacing: 1,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            className: classes.title,\n            children: \"Introduction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            mb: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: tutorial.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        spacing: 1,\n        xs: 6,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          hidden: Object.entries(toolOptions).length === 0,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            className: classes.title,\n            children: \"Tools\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), !(toolOptions && Object.entries(toolOptions).length > 0) ? null : /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            children: \"Recommended tools are listed below. You require one tool option from each box.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), !(toolOptions && Object.entries(toolOptions).length > 0) ? /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            color: \"textSecondary\",\n            children: \"No tools specified.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this) : Object.keys(toolOptions).map(toolCategory => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(AffiliateProductCard, {\n            title: toolCategory,\n            products: toolOptions[toolCategory]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 17\n          }, this)\n        }, toolCategory, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        xs: 6,\n        spacing: 1,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          hidden: Object.entries(toolOptions).length === 0,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            className: classes.title,\n            children: \"Parts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), !(shopComponents && shopComponents.length > 0) ? null : /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            children: \"Suitable replacement parts are listed below. Select one of the options.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), !(shopComponents && shopComponents.length > 0) ? /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            color: \"textSecondary\",\n            children: \"No parts specified.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(AffiliateProductCard, {\n            title: `Replacement parts for ${bikeComponent.name}`,\n            products: shopComponents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), tutorial.steps.map((step, index) => {\n        return /*#__PURE__*/_jsxDEV(TutorialStep, {\n          stepNr: index,\n          type: step.type,\n          title: step.title,\n          description: step.description,\n          mediaUrl: step.mediaUrl,\n          stepId: step._id,\n          nrOfComments: step.comments.length\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Tutorial, \"C+DJ+8Ua76LtGOWHBj0N4v6Z/Dw=\", false, function () {\n  return [useStyles, useSelector, useSelector];\n});\n\n_c = Tutorial;\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatch\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(withRouter(Tutorial));\n\nvar _c;\n\n$RefreshReg$(_c, \"Tutorial\");","map":{"version":3,"sources":["/Users/carinawollendorfer/selfix/frontend/src/views/Tutorial.js"],"names":["React","connect","useSelector","makeStyles","withRouter","Grid","Box","Card","Container","Typography","CardContent","Paper","ListOutlined","AccessTime","Speed","Image","TutorialStep","BookmarkButton","AffiliateProductCard","Loading","setBookmarkedTutorials","BookmarkService","TutorialService","ShopComponentService","BikeComponentService","useStyles","title","fontWeight","Tutorial","props","classes","user","state","bookmarksRedux","bookmarks","bookmarkedTutorials","tutorial","setTutorial","useState","toolOptions","setToolOptions","shopComponents","setShopComponents","bikeComponent","setBikeComponent","tutorialID","match","params","id","bikeComponentID","componentId","useEffect","getTutorialWithToolOptions","e","console","log","listByBikeComponent","getBikeComponent","checkIfBookmarked","i","tutorialId","name","tutorialBookmark","filtered","filter","bookmark","bookmarkTutorial","bookmarkCopy","push","dispatch","removeBookmarkTutorial","imageUrl","difficulty","steps","length","timeRequired","description","Object","entries","keys","map","toolCategory","step","index","type","mediaUrl","_id","comments","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withRouter } from 'react-router-dom';\n\nimport { Grid, Box, Card, Container, Typography, CardContent, Paper } from '@material-ui/core';\nimport { ListOutlined, AccessTime, Speed } from '@material-ui/icons';\nimport Image from 'material-ui-image';\n\nimport TutorialStep from '../components/TutorialStep';\nimport BookmarkButton from '../components/BookmarkButton';\nimport AffiliateProductCard from '../components/AffiliateProductCard';\nimport Loading from '../components/Loading';\n\nimport { setBookmarkedTutorials } from '../redux/actions/bookmarkActions';\n\nimport BookmarkService from '../services/BookmarkService';\nimport TutorialService from '../services/TutorialService';\nimport ShopComponentService from '../services/ShopComponentService';\nimport BikeComponentService from '../services/BikeComponentService';\n\nconst useStyles = makeStyles(() => ({\n  title: {\n    fontWeight: 600,\n  },\n}));\n\nfunction Tutorial(props) {\n  const classes = useStyles();\n\n  const user = useSelector((state) => state.user);\n\n  const bookmarksRedux = useSelector((state) => state.bookmarks.bookmarkedTutorials);\n\n  const [tutorial, setTutorial] = React.useState();\n  const [toolOptions, setToolOptions] = React.useState({});\n  const [shopComponents, setShopComponents] = React.useState([]);\n  const [bikeComponent, setBikeComponent] = React.useState({});\n  const tutorialID = props.match.params.id;\n  const bikeComponentID = props.match.params.componentId ? props.match.params.componentId : '';\n\n  React.useEffect(async () => {\n    try {\n      const tutorial = await TutorialService.getTutorialWithToolOptions(tutorialID);\n      setTutorial(tutorial);\n      if (tutorial.toolOptions) {\n        setToolOptions(tutorial.toolOptions);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }, [props.match.params.id]);\n\n  React.useEffect(async () => {\n    try {\n      const shopComponents = await ShopComponentService.listByBikeComponent(bikeComponentID);\n      setShopComponents(shopComponents);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [props.match.params.id]);\n\n  React.useEffect(async () => {\n    try {\n      const bikeComponent = await BikeComponentService.getBikeComponent(bikeComponentID);\n      setBikeComponent(bikeComponent);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [props.match.params.id]);\n\n  const checkIfBookmarked = () => {\n    for(const i in bookmarksRedux) {\n      if(\n        bookmarksRedux[i].tutorialId === tutorialID\n        && bookmarksRedux[i].componentId === bikeComponentID\n      ) {\n        console.log('Tutorial: '+bookmarksRedux[i].tutorialId+' === '+tutorialID);\n        console.log('Component: '+bookmarksRedux[i].componentId+' === '+bikeComponentID);\n        return true;\n      }\n    }\n    return false;\n  };\n\n  return !tutorial ? (\n    <Loading />\n  ) : (\n    <Container>\n      <Grid container spacing={3} alignItems=\"flex-start\" justify=\"center\">\n        <Grid item xs={12}>\n          <Box mt={4} mb={1} display=\"flex\" flexDirection=\"row\" alignItems=\"center\" justifyContent=\"center\">\n            <Typography variant=\"h4\" className={classes.title}>\n              {tutorial.name}\n            </Typography>\n\n            <BookmarkButton\n              bookmarked={checkIfBookmarked()}\n              size={38}\n              bookmarkFunc={() => {\n                // Not logged in\n                if (!user) {\n                  return;\n                }\n\n                // Do not bookmark if componentID is missing\n                if(bikeComponentID === '') {\n                  return;\n                }\n\n                const tutorialBookmark = {\n                  tutorialId: tutorialID,\n                  componentId: bikeComponentID,\n                };\n\n                //Filter out current tutorial\n                const filtered = bookmarksRedux.filter(\n                  (bookmark) =>\n                    !(bookmark.tutorialId === tutorialID \n                    && bookmark.componentId === bikeComponentID)\n                );\n\n                if (!checkIfBookmarked()) {\n                  // Send bookmark to backend and save in redux\n                  BookmarkService.bookmarkTutorial(tutorialBookmark);\n                  const bookmarkCopy = [...bookmarksRedux];\n                  bookmarkCopy.push(tutorialBookmark);\n                  props.dispatch(setBookmarkedTutorials(bookmarkCopy));\n                } else {\n                  // Send bookmark to delete to backend and remove from redux\n                  BookmarkService.removeBookmarkTutorial(tutorialBookmark);\n                  props.dispatch(setBookmarkedTutorials(filtered));\n                }\n              }}\n            />\n          </Box>\n        </Grid>\n\n        <Grid item xs={6} sm={5} md={4}>\n          <Box mb={3}>\n            <Paper variant=\"outlined\">\n              <Image src={tutorial.imageUrl} />\n            </Paper>\n          </Box>\n        </Grid>\n        <Grid item xs={6} sm={7} md={8}>\n          <Grid container spacing={2}>\n            <Grid xs={12} item>\n              <Card variant=\"outlined\">\n                <CardContent>\n                  <Grid container alignItems=\"center\">\n                    <Grid item container xs={8} md={9}>\n                      <Grid item container xs={3} sm={2} md={1}>\n                        <Speed />\n                      </Grid>\n                      <Grid item container xs={9} sm={10} md={11}>\n                        <Typography variant=\"body1\">Difficulty</Typography>\n                      </Grid>\n                    </Grid>\n                    <Grid item container xs>\n                      <Typography variant=\"body1\">{tutorial.difficulty}</Typography>\n                    </Grid>\n                  </Grid>\n                </CardContent>\n              </Card>\n            </Grid>\n\n            <Grid xs={12} item>\n              <Card variant=\"outlined\">\n                <CardContent>\n                  <Grid container alignItems=\"center\">\n                    <Grid item container xs={8} md={9}>\n                      <Grid item container xs={3} sm={2} md={1}>\n                        <ListOutlined />\n                      </Grid>\n                      <Grid item container xs={9} sm={10} md={11}>\n                        <Typography variant=\"body1\">Steps</Typography>\n                      </Grid>\n                    </Grid>\n                    <Grid item container xs>\n                      <Typography variant=\"body1\">{tutorial.steps.length}</Typography>\n                    </Grid>\n                  </Grid>\n                </CardContent>\n              </Card>\n            </Grid>\n\n            <Grid xs={12} item>\n              <Card variant=\"outlined\">\n                <CardContent>\n                  <Grid container alignItems=\"center\">\n                    <Grid item container xs={8} md={9}>\n                      <Grid item container xs={3} sm={2} md={1}>\n                        <AccessTime />\n                      </Grid>\n                      <Grid item container xs={9} sm={10} md={11}>\n                        <Typography variant=\"body1\">Time Required</Typography>\n                      </Grid>\n                    </Grid>\n                    <Grid item container xs>\n                      <Typography variant=\"body1\">{tutorial.timeRequired} minutes</Typography>\n                    </Grid>\n                  </Grid>\n                </CardContent>\n              </Card>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Grid item container spacing={1} xs={12}>\n          <Grid item xs={12}>\n            <Typography variant=\"h5\" className={classes.title}>\n              Introduction\n            </Typography>\n          </Grid>\n          <Grid item xs={12}>\n            <Box mb={3}>\n              <Card variant=\"outlined\">\n                <CardContent>\n                  <Typography variant=\"body1\">{tutorial.description}</Typography>\n                </CardContent>\n              </Card>\n            </Box>\n          </Grid>\n        </Grid>\n\n        <Grid item container spacing={1} xs={6}>\n          <Grid item xs={12} hidden={Object.entries(toolOptions).length === 0}>\n            <Typography variant=\"h5\" className={classes.title}>\n              Tools\n            </Typography>\n            {!(toolOptions && Object.entries(toolOptions).length > 0) ? null : (\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                Recommended tools are listed below. You require one tool option from each box.\n              </Typography>\n            )}\n          </Grid>\n\n          {!(toolOptions && Object.entries(toolOptions).length > 0) ? (\n            <Grid item xs={12}>\n              <Typography variant=\"body1\" color=\"textSecondary\">\n                No tools specified.\n              </Typography>\n            </Grid>\n          ) : (\n            Object.keys(toolOptions).map((toolCategory) => (\n              <Grid item xs={12} key={toolCategory}>\n                <AffiliateProductCard title={toolCategory} products={toolOptions[toolCategory]} />\n              </Grid>\n            ))\n          )}\n        </Grid>\n\n        <Grid item container xs={6} spacing={1}>\n          <Grid item xs={12} hidden={Object.entries(toolOptions).length === 0}>\n            <Typography variant=\"h5\" className={classes.title}>\n              Parts\n            </Typography>\n            {!(shopComponents && shopComponents.length > 0) ? null : (\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                Suitable replacement parts are listed below. Select one of the options.\n              </Typography>\n            )}\n          </Grid>\n\n          {!(shopComponents && shopComponents.length > 0) ? (\n            <Grid item xs={12}>\n              <Typography variant=\"body1\" color=\"textSecondary\">\n                No parts specified.\n              </Typography>\n            </Grid>\n          ) : (\n            <Grid item xs={12}>\n              <AffiliateProductCard title={`Replacement parts for ${bikeComponent.name}`} products={shopComponents} />\n            </Grid>\n          )}\n        </Grid>\n\n        {tutorial.steps.map((step, index) => {\n          return (\n            <TutorialStep\n              key={index}\n              stepNr={index}\n              type={step.type}\n              title={step.title}\n              description={step.description}\n              mediaUrl={step.mediaUrl}\n              stepId={step._id}\n              nrOfComments={step.comments.length}\n            />\n          );\n        })}\n      </Grid>\n    </Container>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    dispatch,\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(withRouter(Tutorial));\n"]},"metadata":{},"sourceType":"module"}