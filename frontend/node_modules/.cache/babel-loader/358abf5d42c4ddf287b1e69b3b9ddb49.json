{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/carinawollendorfer/selfix/frontend/src/views/AdminView.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Switch, withRouter } from 'react-router-dom';\nimport RouteWithSubRoutes from '../RouteWithSubRoutes';\nimport ContentManagementMenu from '../components/cms/ContentManagementMenu';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from 'react-router';\nimport AffiliateProductService from '../services/AffiliateProductService';\nimport { connect } from 'react-redux';\nimport { setAffiliateCount } from '../redux/actions/affiliateCountAcions';\n\nconst AdminView = ({\n  routes,\n  history,\n  setAffiliateCountRedux\n}) => {\n  _s();\n\n  const user = useSelector(state => state.user);\n\n  if (user.user != null) {\n    if (user.user.role != 'admin') {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 14\n      }, this);\n    }\n  } else {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 12\n    }, this);\n  }\n\n  React.useEffect(async () => {\n    try {\n      const count = await AffiliateProductService.getUnmappedAffiliateProductCount();\n      setAffiliateCountRedux(count);\n    } catch (err) {\n      console.log(err);\n    }\n  });\n\n  if (history.location.pathname === '/admin' || history.location.pathname === '/admin/') {\n    history.push('/admin/bicycles');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(ContentManagementMenu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: routes.map((route, i) => /*#__PURE__*/_jsxDEV(RouteWithSubRoutes, { ...route\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminView, \"w5+LAD8lLDhLgasoS8hF5Z9czWg=\", false, function () {\n  return [useSelector];\n});\n\n_c = AdminView;\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setAffiliateCountRedux: count => dispatch(setAffiliateCount(count)),\n    dispatch\n  };\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(AdminView));\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminView\");","map":{"version":3,"sources":["/Users/carinawollendorfer/selfix/frontend/src/views/AdminView.js"],"names":["React","Switch","withRouter","RouteWithSubRoutes","ContentManagementMenu","useSelector","Redirect","AffiliateProductService","connect","setAffiliateCount","AdminView","routes","history","setAffiliateCountRedux","user","state","role","useEffect","count","getUnmappedAffiliateProductCount","err","console","log","location","pathname","push","height","map","route","i","mapDispatchToProps","dispatch"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,MAAT,EAAiBC,UAAjB,QAAmC,kBAAnC;AACA,OAAOC,kBAAP,MAA+B,uBAA/B;AACA,OAAOC,qBAAP,MAAkC,yCAAlC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,uBAAP,MAAoC,qCAApC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,iBAAT,QAAkC,uCAAlC;;AAEA,MAAMC,SAAS,GAAE,CAAC;AAAEC,EAAAA,MAAF;AAASC,EAAAA,OAAT;AAAiBC,EAAAA;AAAjB,CAAD,KAA+C;AAAA;;AAC9D,QAAMC,IAAI,GAAGT,WAAW,CAAEU,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAAxB;;AACA,MAAIA,IAAI,CAACA,IAAL,IAAa,IAAjB,EAAuB;AACrB,QAAIA,IAAI,CAACA,IAAL,CAAUE,IAAV,IAAkB,OAAtB,EAA+B;AAC7B,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;AACF,GAJD,MAIO;AACL,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAEDhB,EAAAA,KAAK,CAACiB,SAAN,CAAgB,YAAY;AAC1B,QAAI;AACF,YAAMC,KAAK,GAAG,MAAMX,uBAAuB,CAACY,gCAAxB,EAApB;AACAN,MAAAA,sBAAsB,CAACK,KAAD,CAAtB;AACD,KAHD,CAGE,OAAME,GAAN,EAAW;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,GAPD;;AASA,MAAGR,OAAO,CAACW,QAAR,CAAiBC,QAAjB,KAA8B,QAA9B,IAA0CZ,OAAO,CAACW,QAAR,CAAiBC,QAAjB,KAA8B,SAA3E,EAAsF;AACpFZ,IAAAA,OAAO,CAACa,IAAR,CAAa,iBAAb;AACD;;AAED,sBACE;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAZ;AAAA,4BACE,QAAC,qBAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,MAAD;AAAA,gBACGf,MAAM,CAACgB,GAAP,CAAW,CAACC,KAAD,EAAQC,CAAR,kBACV,QAAC,kBAAD,OAAgCD;AAAhC,SAAyBC,CAAzB;AAAA;AAAA;AAAA;AAAA,cADD;AADH;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD,CAjCD;;GAAMnB,S;UACSL,W;;;KADTK,S;;AAmCN,MAAMoB,kBAAkB,GAAIC,QAAD,IAAc;AACvC,SAAO;AACLlB,IAAAA,sBAAsB,EAAGK,KAAD,IAAWa,QAAQ,CAACtB,iBAAiB,CAACS,KAAD,CAAlB,CADtC;AAELa,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,eAAe7B,UAAU,CAACM,OAAO,CAAC,IAAD,EAAMsB,kBAAN,CAAP,CAAiCpB,SAAjC,CAAD,CAAzB","sourcesContent":["import React from 'react';\n\nimport { Switch, withRouter } from 'react-router-dom';\nimport RouteWithSubRoutes from '../RouteWithSubRoutes';\nimport ContentManagementMenu from '../components/cms/ContentManagementMenu';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from 'react-router';\nimport AffiliateProductService from '../services/AffiliateProductService';\nimport { connect } from 'react-redux';\nimport { setAffiliateCount } from '../redux/actions/affiliateCountAcions';\n\nconst AdminView =({ routes,history,setAffiliateCountRedux }) => {\n  const user = useSelector((state) => state.user);\n  if (user.user != null) {\n    if (user.user.role != 'admin') {\n      return <Redirect to='/login'/>;\n    }\n  } else {\n    return <Redirect to='/login'/>;\n  }\n\n  React.useEffect(async () => {\n    try {\n      const count = await AffiliateProductService.getUnmappedAffiliateProductCount();\n      setAffiliateCountRedux(count);\n    } catch(err) {\n      console.log(err);\n    }\n  });\n\n  if(history.location.pathname === '/admin' || history.location.pathname === '/admin/') {\n    history.push('/admin/bicycles');\n  }\n\n  return ( \n    <div style={{ height: '100%' }}>\n      <ContentManagementMenu />\n      <Switch>\n        {routes.map((route, i) => (\n          <RouteWithSubRoutes key={i} {...route} />\n        ))}\n      </Switch>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setAffiliateCountRedux: (count) => dispatch(setAffiliateCount(count)),\n    dispatch\n  };\n};\n\nexport default withRouter(connect(null,mapDispatchToProps)(AdminView));"]},"metadata":{},"sourceType":"module"}