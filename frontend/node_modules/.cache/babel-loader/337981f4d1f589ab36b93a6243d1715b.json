{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/carinawollendorfer/selfix/frontend/src/components/TutorialStep.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport ReactPlayer from 'react-player';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport { Grid, Card, CardContent, Typography, IconButton, Box, Collapse } from '@material-ui/core';\nimport { Comment } from '@material-ui/icons';\nimport CommentComponent from './CommentComponent.js';\nimport Image from 'material-ui-image';\nimport TutorialTextStepService from '../services/TutorialTextStepService.js';\nimport TutorialVideoStepService from '../services/TutorialVideoStepService.js';\nconst useStyles = makeStyles(() => ({\n  title: {\n    fontWeight: 600\n  },\n  commentIcon: {\n    height: 24,\n    width: 24\n  },\n  descriptionText: {\n    whiteSpace: 'pre-line'\n  }\n}));\n\nfunction TutorialStep(props) {\n  _s();\n\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  const [nrOfComments, setNrOfComments] = React.useState(props.nrOfComments);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n\n    (async () => {\n      if (props.type === 'text') {\n        const data = await TutorialTextStepService.getTutorialTextStep(props.stepId);\n        setNrOfComments(data.comments.length);\n      } else if (props.type === 'video') {\n        const data = await TutorialVideoStepService.getTutorialVideoStep(props.stepId);\n        setNrOfComments(data.comments.length);\n      }\n    })();\n  };\n\n  const changeNrOfComments = newNrOfComments => {\n    setNrOfComments(newNrOfComments);\n  };\n\n  React.useEffect(async () => {\n    (async () => {\n      if (props.type === 'text') {\n        const data = await TutorialTextStepService.getTutorialTextStep(props.stepId);\n        setNrOfComments(data.comments.length);\n      } else if (props.type === 'video') {\n        const data = await TutorialVideoStepService.getTutorialVideoStep(props.stepId);\n        setNrOfComments(data.comments.length);\n      }\n    })();\n  }, []);\n\n  function MediaDisplay(props) {\n    const type = props.type;\n    const mediaUrl = props.mediaUrl;\n    const description = props.description;\n\n    if (type === 'text') {\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        spacing: 5,\n        justify: \"flex-start\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 4,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            disableTransition: true,\n            src: mediaUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          sm: 8,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            color: \"textPrimary\",\n            className: classes.descriptionText,\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this);\n    } else if (type === 'video') {\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        container: true,\n        spacing: 1,\n        justify: \"flex-start\",\n        wrap: \"wrap\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 12,\n          lg: 7,\n          children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n            url: mediaUrl,\n            controls: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: true,\n          lg: true,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            color: \"textPrimary\",\n            className: classes.descriptionText,\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    item: true,\n    xs: 12,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      my: 3,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 3,\n          sm: 2,\n          md: 1,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            className: classes.title,\n            noWrap: true,\n            children: [\"Step \", props.stepNr + 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: true,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            children: props.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            variant: \"outlined\",\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 1,\n                direction: \"column\",\n                alignItems: \"flex-end\",\n                children: [/*#__PURE__*/_jsxDEV(MediaDisplay, {\n                  type: props.type,\n                  mediaUrl: props.mediaUrl,\n                  description: props.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    onClick: handleExpandClick,\n                    children: [/*#__PURE__*/_jsxDEV(Comment, {\n                      className: classes.commentIcon\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Box, {\n                      pl: 1,\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        children: [nrOfComments, \" Comments\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n                in: expanded,\n                timeout: \"auto\",\n                unmountOnExit: true,\n                children: /*#__PURE__*/_jsxDEV(CommentComponent, {\n                  stepId: props.stepId,\n                  type: props.type,\n                  changeNrOfComments: changeNrOfComments\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TutorialStep, \"6QRJbAPhHdkr7MMr3TORQCe+80A=\", false, function () {\n  return [useStyles];\n});\n\n_c = TutorialStep;\nTutorialStep.propTypes = {\n  stepNr: PropTypes.number.isRequired,\n  type: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  mediaUrl: PropTypes.string.isRequired\n};\nexport default TutorialStep;\n\nvar _c;\n\n$RefreshReg$(_c, \"TutorialStep\");","map":{"version":3,"sources":["/Users/carinawollendorfer/selfix/frontend/src/components/TutorialStep.js"],"names":["React","ReactPlayer","makeStyles","PropTypes","Grid","Card","CardContent","Typography","IconButton","Box","Collapse","Comment","CommentComponent","Image","TutorialTextStepService","TutorialVideoStepService","useStyles","title","fontWeight","commentIcon","height","width","descriptionText","whiteSpace","TutorialStep","props","classes","expanded","setExpanded","useState","nrOfComments","setNrOfComments","handleExpandClick","type","data","getTutorialTextStep","stepId","comments","length","getTutorialVideoStep","changeNrOfComments","newNrOfComments","useEffect","MediaDisplay","mediaUrl","description","stepNr","propTypes","number","isRequired","string"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactPlayer from 'react-player';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\n\nimport { Grid, Card, CardContent, Typography, IconButton, Box, Collapse } from '@material-ui/core';\nimport { Comment } from '@material-ui/icons';\nimport CommentComponent from './CommentComponent.js';\nimport Image from 'material-ui-image';\n\nimport TutorialTextStepService from '../services/TutorialTextStepService.js';\nimport TutorialVideoStepService from '../services/TutorialVideoStepService.js';\n\nconst useStyles = makeStyles(() => ({\n  title: {\n    fontWeight: 600,\n  },\n  commentIcon: {\n    height: 24,\n    width: 24,\n  },\n  descriptionText: {\n    whiteSpace: 'pre-line'\n  }\n}));\n \nfunction TutorialStep(props) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  const [nrOfComments, setNrOfComments] = React.useState(props.nrOfComments);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n    (async () => {\n      if (props.type === 'text') {\n        const data = await TutorialTextStepService.getTutorialTextStep(props.stepId);\n        setNrOfComments(data.comments.length);\n      } else if (props.type === 'video') {\n        const data = await TutorialVideoStepService.getTutorialVideoStep(props.stepId);\n        setNrOfComments(data.comments.length);\n      }\n    })();\n  };\n\n  const changeNrOfComments = (newNrOfComments) => {\n    setNrOfComments(newNrOfComments);\n  };\n\n  React.useEffect(async () => {\n    (async () => {\n      if (props.type === 'text') {\n        const data = await TutorialTextStepService.getTutorialTextStep(props.stepId);\n        setNrOfComments(data.comments.length);\n      } else if (props.type === 'video') {\n        const data = await TutorialVideoStepService.getTutorialVideoStep(props.stepId);\n        setNrOfComments(data.comments.length);\n      }\n    })();\n  }, []);\n\n  function MediaDisplay(props) {\n    const type = props.type;\n    const mediaUrl = props.mediaUrl;\n    const description = props.description;\n    if (type === 'text') {\n      return (\n        <Grid item container spacing={5} justify=\"flex-start\">\n          <Grid item xs={6} sm={4}>\n            <Image disableTransition src={mediaUrl} />\n          </Grid>\n\n          <Grid item xs={6} sm={8}>\n            <Typography variant=\"body1\" color=\"textPrimary\" className={classes.descriptionText}>\n              {description}\n            </Typography>\n          </Grid>\n        </Grid>\n      );\n    } else if (type === 'video') {\n      return (\n        <Grid item container spacing={1} justify=\"flex-start\" wrap=\"wrap\">\n          <Grid item md={12} lg={7}>\n            <ReactPlayer url={mediaUrl} controls={true} />\n          </Grid>\n\n          <Grid item md lg>\n            <Typography variant=\"body1\" color=\"textPrimary\"  className={classes.descriptionText}>\n              {description}\n            </Typography>\n          </Grid>\n        </Grid>\n      );\n    }\n  }\n\n  return (\n    <Grid item xs={12}>\n      <Box my={3}>\n        <Grid container spacing={1}>\n          <Grid item xs={3} sm={2} md={1}>\n            <Typography variant=\"h5\" className={classes.title} noWrap>\n              Step {props.stepNr + 1}\n            </Typography>\n          </Grid>\n          <Grid item xs>\n            <Typography variant=\"h5\">{props.title}</Typography>\n          </Grid>\n\n          <Grid item xs={12}>\n            <Card variant=\"outlined\">\n              <CardContent>\n                <Grid container spacing={1} direction=\"column\" alignItems=\"flex-end\">\n                  <MediaDisplay type={props.type} mediaUrl={props.mediaUrl} description={props.description} />\n\n                  <Grid item xs={12}>\n                    <IconButton onClick={handleExpandClick}>\n                      <Comment className={classes.commentIcon} />\n\n                      <Box pl={1}>\n                        <Typography>{nrOfComments} Comments</Typography>\n                      </Box>\n                    </IconButton>\n                  </Grid>\n                </Grid>\n\n                <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n                  <CommentComponent stepId={props.stepId} type={props.type} changeNrOfComments={changeNrOfComments} />\n                </Collapse>\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n      </Box>\n    </Grid>\n  );\n}\n\nTutorialStep.propTypes = {\n  stepNr: PropTypes.number.isRequired,\n  type: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  mediaUrl: PropTypes.string.isRequired,\n};\n\nexport default TutorialStep;\n"]},"metadata":{},"sourceType":"module"}