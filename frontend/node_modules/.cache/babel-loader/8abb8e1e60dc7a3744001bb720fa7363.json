{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/carinawollendorfer/selfix/frontend/src/components/cms/TutorialCreationStepTwo.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Grid, Box, Paper, Card, CardContent, TextField, Button, DialogContent, DialogContentText, DialogActions, Dialog } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ImageIcon from '@material-ui/icons/Image';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport IconButton from '@material-ui/core/IconButton';\nimport VideocamIcon from '@material-ui/icons/Videocam';\nimport StepperText from './StepperText';\nimport FileuploadComponent from '../FileuploadComponent';\nimport Image from 'material-ui-image';\nimport { Close } from '@material-ui/icons';\nimport ReactPlayer from 'react-player';\nimport PropTypes from 'prop-types';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport RootRef from '@material-ui/core/RootRef';\nimport FileuploadService from '../../services/FileuploadService';\nconst useStyles = makeStyles({\n  stepListCard: {\n    height: '100%',\n    borderWidth: '1px',\n    borderColor: '#616161',\n    maxHeight: '100%',\n    overflow: 'auto'\n  },\n  stepCard: {\n    minHeight: '43vh',\n    borderWidth: '1px',\n    borderColor: '#616161'\n  },\n  child: {\n    height: 272,\n    overflow: 'auto'\n  },\n  cardContent: {\n    padding: '0px'\n  },\n  listRoot: {\n    width: '100%'\n  },\n  button: {\n    width: '100%',\n    borderRadius: 0\n  },\n  listItemText: {\n    fontSize: '0.8em'\n  }\n});\n\nconst listTitle = step => {\n  let title;\n  const limit = 20;\n\n  if (step.title) {\n    if (step.title.length > limit) {\n      title = `${step.title.substring(0, limit)}...`;\n    } else {\n      title = step.title;\n    }\n  } else {\n    title = 'No title yet';\n  }\n\n  return title;\n};\n/**\n * Step two tutorial creation\n * @param {props} props\n */\n\n\nfunction TutorialCreationStepTwo(props) {\n  _s();\n\n  const classes = useStyles();\n  const [deleteDialogOpen, setDeleteDialogOpen] = React.useState(false);\n  const [allOtherStepsFilled, setAllOtherStepsFilled] = React.useState(false);\n  const [stepIndex, setStepIndex] = React.useState(0);\n  const [step, setStep] = React.useState({\n    title: '',\n    description: '',\n    mediaUrl: '',\n    isPicStep: true,\n    file: undefined\n  });\n  React.useEffect(() => {\n    setStep(props.steps[stepIndex]);\n  }, [stepIndex]);\n  React.useEffect(() => {\n    let filled = true;\n\n    if (props.steps.length === 0) {\n      filled = false;\n    }\n\n    props.steps.forEach(step => {\n      const stepTitleFilled = step.title && step.title !== '';\n      const stepDescriptionFilled = step.description && step.description !== '';\n      const stepHasFile = step.file || step.mediaUrl !== '';\n      const allRequiredFilled = stepTitleFilled && stepDescriptionFilled && stepHasFile;\n\n      if (!allRequiredFilled) {\n        filled = false;\n      }\n    });\n    setAllOtherStepsFilled(filled);\n  }, [props.steps]);\n\n  const addStep = isPicStep => {\n    setStepIndex(props.steps.length);\n    const newStep = {\n      title: '',\n      description: '',\n      mediaUrl: '',\n      isPicStep: !!isPicStep,\n      file: undefined\n    };\n    props.addStep(newStep);\n    setStep(newStep);\n  };\n\n  function deleteStep(index) {\n    const stepToDelete = props.steps[index];\n\n    if (props.editMode) {\n      (async () => {\n        try {\n          await FileuploadService.deleteFile(stepToDelete.mediaUrl);\n        } catch (e) {\n          console.log(e);\n        }\n      })();\n    }\n\n    if (props.steps.length === 1) {\n      setStepIndex(-1);\n    } else if (index === 0) {\n      setStepIndex(0);\n      setStep(props.steps[index + 1]);\n    } else {\n      setStepIndex(index - 1);\n      setStep(props.steps[index - 1]);\n    }\n\n    props.deleteStep(index);\n  }\n\n  function handleChange(event) {\n    const updatedStep = { ...step,\n      [event.target.name]: event.target.value\n    };\n    setStep(updatedStep);\n    props.updateStep(updatedStep, stepIndex);\n  }\n\n  const handleDeleteFile = step => {\n    (async () => {\n      setDeleteDialogOpen(false);\n\n      if (step.file) {\n        step.file = undefined;\n      } else {\n        try {\n          const imageUrl = step.mediaUrl;\n          step.mediaUrl = '';\n          await FileuploadService.deleteFile(imageUrl);\n        } catch (e) {\n          props.setErrorText('Error while deleting file for step ' + step.title);\n        }\n      }\n\n      props.updateStep(step, stepIndex);\n    })();\n  };\n\n  function uploadFile(fileToUpload, fileName, error) {\n    step.file = fileToUpload;\n    handleChange(event);\n    props.setErrorText(error);\n  }\n\n  const reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n    return result;\n  };\n\n  const onDragEnd = result => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    const reorderedSteps = reorder(props.steps, result.source.index, result.destination.index);\n    setStepIndex(result.destination.index);\n    setStep(props.steps[result.destination.index]);\n    props.setSteps(reorderedSteps);\n  };\n\n  const getItemStyle = (isDragging, draggableStyle) => ({ // styles we need to apply on draggables\n    ...draggableStyle,\n    ...(isDragging && {\n      background: 'rgb(235,235,235)'\n    })\n  });\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: props.handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      style: {\n        minHeight: '60vh'\n      },\n      container: true,\n      spacing: 3,\n      alignItems: \"flex-start\",\n      children: [/*#__PURE__*/_jsxDEV(StepperText, {\n        type: \"title\",\n        primaryText: \"Tutorial Steps\",\n        secondaryText: \"Upload an image. Enter a title and a description.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        style: {\n          minHeight: '45vh'\n        },\n        item: true,\n        container: true,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          container: true,\n          spacing: 3,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: classes.stepListCard,\n              variant: \"outlined\",\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                className: classes.cardContent,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      style: {\n                        background: 'lightgrey'\n                      },\n                      size: \"small\",\n                      className: classes.button,\n                      onClick: () => {\n                        addStep(true);\n                      },\n                      endIcon: /*#__PURE__*/_jsxDEV(ImageIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 246,\n                        columnNumber: 34\n                      }, this),\n                      children: \"Add\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      style: {\n                        background: 'lightgrey'\n                      },\n                      size: \"small\",\n                      className: classes.button,\n                      onClick: () => {\n                        addStep(false);\n                      },\n                      endIcon: /*#__PURE__*/_jsxDEV(VideocamIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 34\n                      }, this),\n                      children: \"Add\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.listRoot,\n                  children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n                    onDragEnd: onDragEnd,\n                    children: /*#__PURE__*/_jsxDEV(Droppable, {\n                      droppableId: \"droppable\",\n                      children: provided => {\n                        return /*#__PURE__*/_jsxDEV(RootRef, {\n                          rootRef: provided.innerRef,\n                          children: /*#__PURE__*/_jsxDEV(List, {\n                            disablePadding: true,\n                            children: [props.steps.map((step, index) => {\n                              return /*#__PURE__*/_jsxDEV(Draggable, {\n                                draggableId: `step-${index}`,\n                                index: index,\n                                children: (provided, snapshot) => /*#__PURE__*/_jsxDEV(ListItem, {\n                                  dense: true,\n                                  divider: true,\n                                  ContainerComponent: \"li\",\n                                  ContainerProps: {\n                                    ref: provided.innerRef\n                                  },\n                                  ...provided.draggableProps,\n                                  ...provided.dragHandleProps,\n                                  style: getItemStyle(snapshot.isDragging, provided.draggableProps.style),\n                                  button: true,\n                                  selected: stepIndex === index,\n                                  onClick: () => {\n                                    setStep(step);\n                                    setStepIndex(index);\n                                  },\n                                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                                    children: step.isPicStep ? /*#__PURE__*/_jsxDEV(ImageIcon, {\n                                      fontSize: \"small\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 296,\n                                      columnNumber: 47\n                                    }, this) : /*#__PURE__*/_jsxDEV(VideocamIcon, {\n                                      fontSize: \"small\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 298,\n                                      columnNumber: 47\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 294,\n                                    columnNumber: 43\n                                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                                    classes: {\n                                      primary: classes.listItemText,\n                                      secondary: classes.listItemText\n                                    },\n                                    primary: `Step ${index + 1}`,\n                                    secondary: listTitle(step, index)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 301,\n                                    columnNumber: 43\n                                  }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n                                    hidden: !!snapshot.isDragging,\n                                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                                      edge: \"end\",\n                                      \"aria-label\": \"delete\",\n                                      onClick: () => deleteStep(index),\n                                      children: /*#__PURE__*/_jsxDEV(HighlightOffIcon, {\n                                        fontSize: \"small\"\n                                      }, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 315,\n                                        columnNumber: 47\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 310,\n                                      columnNumber: 45\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 309,\n                                    columnNumber: 43\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 277,\n                                  columnNumber: 41\n                                }, this)\n                              }, index, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 275,\n                                columnNumber: 37\n                              }, this);\n                            }), provided.placeholder]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 272,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 271,\n                          columnNumber: 29\n                        }, this);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), props.steps.length > 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            container: true,\n            spacing: 2,\n            alignItems: \"flex-start\",\n            xs: true,\n            md: true,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                justify: \"center\",\n                alignItems: \"flex-start\",\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  container: true,\n                  xs: 12,\n                  md: 4,\n                  spacing: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: step.isPicStep ? /*#__PURE__*/_jsxDEV(Paper, {\n                      variant: \"outlined\",\n                      children: /*#__PURE__*/_jsxDEV(Box, {\n                        children: /*#__PURE__*/_jsxDEV(Image, {\n                          loading: false,\n                          src: step.file ? URL.createObjectURL(step.file) : step.mediaUrl\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 343,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 342,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(Paper, {\n                      elevation: 0,\n                      variant: step.file || step.mediaUrl ? null : 'outlined',\n                      children: /*#__PURE__*/_jsxDEV(Box, {\n                        children: step.file ? /*#__PURE__*/_jsxDEV(ReactPlayer, {\n                          url: URL.createObjectURL(step.file),\n                          controls: true,\n                          width: \"100%\",\n                          height: \"100%\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 350,\n                          columnNumber: 33\n                        }, this) : step.mediaUrl ? /*#__PURE__*/_jsxDEV(ReactPlayer, {\n                          url: step.mediaUrl,\n                          controls: true,\n                          width: \"100%\",\n                          height: \"100%\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 352,\n                          columnNumber: 33\n                        }, this) : /*#__PURE__*/_jsxDEV(Image, {\n                          loading: false\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 354,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 348,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      label: \"Upload file\",\n                      variant: \"outlined\",\n                      value: step.file ? step.file.name : step.mediaUrl,\n                      fullWidth: true,\n                      required: true,\n                      InputProps: {\n                        endAdornment: !(step.file || step.mediaUrl) ? /*#__PURE__*/_jsxDEV(FileuploadComponent, {\n                          files: 1,\n                          sizeLimit: 100 * 1024 * 1024,\n                          allowedMimeTypes: step.isPicStep ? ['image/png', 'image/jpeg'] : ['video/mp4'],\n                          uploadFunction: uploadFile\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 370,\n                          columnNumber: 31\n                        }, this) : /*#__PURE__*/_jsxDEV(Close, {\n                          onClick: () => setDeleteDialogOpen(true)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 377,\n                          columnNumber: 31\n                        }, this)\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                    open: deleteDialogOpen,\n                    onClose: () => setDeleteDialogOpen(false),\n                    children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n                      children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n                        children: 'Are you sure you want to delete the file?'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 384,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        onClick: () => setDeleteDialogOpen(false),\n                        color: \"primary\",\n                        children: \"Cancel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 387,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        onClick: () => handleDeleteFile(step),\n                        color: \"primary\",\n                        autoFocus: true,\n                        children: \"Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 390,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  container: true,\n                  xs: true,\n                  md: true,\n                  spacing: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      value: step.title,\n                      id: \"outlined-basic\",\n                      label: \"Title\",\n                      variant: \"outlined\",\n                      size: \"small\",\n                      name: \"title\",\n                      onChange: handleChange,\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      value: step.description,\n                      id: \"outlined-multiline-static\",\n                      label: \"Description\",\n                      multiline: true,\n                      rows: 12,\n                      variant: \"outlined\",\n                      name: \"description\",\n                      onChange: handleChange,\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 8,\n            children: props.steps.length <= 0 ? /*#__PURE__*/_jsxDEV(StepperText, {\n              type: \"heading\",\n              primaryText: \"No tutorial steps yet!\",\n              secondaryText: \"Use the buttons on the left to add either an image-based or a video-based tutorial step.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(StepperText, {\n              type: \"heading\",\n              primaryText: \"You already created some tutorial steps.\",\n              secondaryText: \"Click on a step on the left to edit it or add a new step by using the buttons below.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), !allOtherStepsFilled ? /*#__PURE__*/_jsxDEV(StepperText, {\n        type: \"error\",\n        errorText: \"At least one tutorial step has not been filled out yet. To continue you must first finish each step.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(StepperText, {\n        type: \"heading\",\n        secondaryText: \"Created all necessary steps? Click 'Next' to continue.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        justify: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"button\",\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: props.handleBack,\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disabled: !allOtherStepsFilled,\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TutorialCreationStepTwo, \"R+yLJqmYno3+N+inEKhhypjd9+Y=\", false, function () {\n  return [useStyles];\n});\n\n_c = TutorialCreationStepTwo;\nTutorialCreationStepTwo.propTypes = {\n  editMode: PropTypes.bool.isRequired,\n  steps: PropTypes.array.isRequired,\n  addStep: PropTypes.func.isRequired,\n  updateStep: PropTypes.func.isRequired,\n  deleteStep: PropTypes.func.isRequired,\n  setErrorText: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired\n};\nexport default TutorialCreationStepTwo;\n\nvar _c;\n\n$RefreshReg$(_c, \"TutorialCreationStepTwo\");","map":{"version":3,"sources":["/Users/carinawollendorfer/selfix/frontend/src/components/cms/TutorialCreationStepTwo.js"],"names":["React","Grid","Box","Paper","Card","CardContent","TextField","Button","DialogContent","DialogContentText","DialogActions","Dialog","makeStyles","ImageIcon","List","ListItem","ListItemIcon","ListItemText","ListItemSecondaryAction","HighlightOffIcon","IconButton","VideocamIcon","StepperText","FileuploadComponent","Image","Close","ReactPlayer","PropTypes","DragDropContext","Droppable","Draggable","RootRef","FileuploadService","useStyles","stepListCard","height","borderWidth","borderColor","maxHeight","overflow","stepCard","minHeight","child","cardContent","padding","listRoot","width","button","borderRadius","listItemText","fontSize","listTitle","step","title","limit","length","substring","TutorialCreationStepTwo","props","classes","deleteDialogOpen","setDeleteDialogOpen","useState","allOtherStepsFilled","setAllOtherStepsFilled","stepIndex","setStepIndex","setStep","description","mediaUrl","isPicStep","file","undefined","useEffect","steps","filled","forEach","stepTitleFilled","stepDescriptionFilled","stepHasFile","allRequiredFilled","addStep","newStep","deleteStep","index","stepToDelete","editMode","deleteFile","e","console","log","handleChange","event","updatedStep","target","name","value","updateStep","handleDeleteFile","imageUrl","setErrorText","uploadFile","fileToUpload","fileName","error","reorder","list","startIndex","endIndex","result","Array","from","removed","splice","onDragEnd","destination","reorderedSteps","source","setSteps","getItemStyle","isDragging","draggableStyle","background","handleSubmit","provided","innerRef","map","snapshot","ref","draggableProps","dragHandleProps","style","primary","secondary","placeholder","URL","createObjectURL","endAdornment","handleBack","propTypes","bool","isRequired","array","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Grid,\n  Box,\n  Paper,\n  Card,\n  CardContent,\n  TextField,\n  Button,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Dialog,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ImageIcon from '@material-ui/icons/Image';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport IconButton from '@material-ui/core/IconButton';\nimport VideocamIcon from '@material-ui/icons/Videocam';\nimport StepperText from './StepperText';\nimport FileuploadComponent from '../FileuploadComponent';\nimport Image from 'material-ui-image';\nimport { Close } from '@material-ui/icons';\nimport ReactPlayer from 'react-player';\nimport PropTypes from 'prop-types';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport RootRef from '@material-ui/core/RootRef';\nimport FileuploadService from '../../services/FileuploadService';\n\nconst useStyles = makeStyles({\n  stepListCard: {\n    height: '100%',\n    borderWidth: '1px',\n    borderColor: '#616161',\n    maxHeight: '100%',\n    overflow: 'auto',\n  },\n  stepCard: {\n    minHeight: '43vh',\n    borderWidth: '1px',\n    borderColor: '#616161',\n  },\n  child: {\n    height: 272,\n    overflow: 'auto',\n  },\n  cardContent: {\n    padding: '0px',\n  },\n  listRoot: {\n    width: '100%',\n  },\n  button: {\n    width: '100%',\n    borderRadius: 0,\n  },\n  listItemText: {\n    fontSize: '0.8em',\n  },\n});\n\nconst listTitle = (step) => {\n  let title;\n  const limit = 20;\n  if (step.title) {\n    if (step.title.length > limit) {\n      title = `${step.title.substring(0, limit)}...`;\n    } else {\n      title = step.title;\n    }\n  } else {\n    title = 'No title yet';\n  }\n  return title;\n};\n\n/**\n * Step two tutorial creation\n * @param {props} props\n */\nfunction TutorialCreationStepTwo(props) {\n  const classes = useStyles();\n  const [deleteDialogOpen, setDeleteDialogOpen] = React.useState(false);\n  const [allOtherStepsFilled, setAllOtherStepsFilled] = React.useState(false);\n  const [stepIndex, setStepIndex] = React.useState(0);\n  const [step, setStep] = React.useState({\n    title: '',\n    description: '',\n    mediaUrl: '',\n    isPicStep: true,\n    file: undefined,\n  });\n\n  React.useEffect(() => {\n    setStep(props.steps[stepIndex]);\n  }, [stepIndex]);\n\n  React.useEffect(() => {\n    let filled = true;\n\n    if (props.steps.length === 0) {\n      filled = false;\n    }\n\n    props.steps.forEach((step) => {\n      const stepTitleFilled = step.title && step.title !== '';\n      const stepDescriptionFilled = step.description && step.description !== '';\n      const stepHasFile = step.file || step.mediaUrl !== '';\n\n      const allRequiredFilled = stepTitleFilled && stepDescriptionFilled && stepHasFile;\n      if (!allRequiredFilled) {\n        filled = false;\n      }\n    });\n\n    setAllOtherStepsFilled(filled);\n  }, [props.steps]);\n\n  const addStep = (isPicStep) => {\n    setStepIndex(props.steps.length);\n    const newStep = {\n      title: '',\n      description: '',\n      mediaUrl: '',\n      isPicStep: !!isPicStep,\n      file: undefined,\n    };\n    props.addStep(newStep);\n    setStep(newStep);\n  };\n\n  function deleteStep(index) {\n    const stepToDelete = props.steps[index];\n    if (props.editMode) {\n      (async () => {\n        try {\n          await FileuploadService.deleteFile(stepToDelete.mediaUrl);\n        } catch (e) {\n          console.log(e);\n        }\n      })();\n    }\n\n    if (props.steps.length === 1) {\n      setStepIndex(-1);\n    } else if (index === 0) {\n      setStepIndex(0);\n      setStep(props.steps[index + 1]);\n    } else {\n      setStepIndex(index - 1);\n      setStep(props.steps[index - 1]);\n    }\n    props.deleteStep(index);\n  }\n\n  function handleChange(event) {\n    const updatedStep = {\n      ...step,\n      [event.target.name]: event.target.value,\n    };\n\n    setStep(updatedStep);\n    props.updateStep(updatedStep, stepIndex);\n  }\n\n  const handleDeleteFile = (step) => {\n    (async () => {\n      setDeleteDialogOpen(false);\n      if (step.file) {\n        step.file = undefined;\n      } else {\n        try {\n          const imageUrl = step.mediaUrl;\n          step.mediaUrl = '';\n          await FileuploadService.deleteFile(imageUrl);\n        } catch (e) {\n          props.setErrorText('Error while deleting file for step ' + step.title);\n        }\n      }\n      props.updateStep(step, stepIndex);\n    })();\n  };\n\n  function uploadFile(fileToUpload, fileName, error) {\n    step.file = fileToUpload;\n    handleChange(event);\n    props.setErrorText(error);\n  }\n\n  const reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n\n    return result;\n  };\n\n  const onDragEnd = (result) => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n    const reorderedSteps = reorder(props.steps, result.source.index, result.destination.index);\n    setStepIndex(result.destination.index);\n    setStep(props.steps[result.destination.index]);\n    props.setSteps(reorderedSteps);\n  };\n\n  const getItemStyle = (isDragging, draggableStyle) => ({\n    // styles we need to apply on draggables\n    ...draggableStyle,\n\n    ...(isDragging && {\n      background: 'rgb(235,235,235)',\n    }),\n  });\n\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <Grid style={{ minHeight: '60vh' }} container spacing={3} alignItems=\"flex-start\">\n        <StepperText\n          type=\"title\"\n          primaryText=\"Tutorial Steps\"\n          secondaryText=\"Upload an image. Enter a title and a description.\"\n        />\n        <Grid style={{ minHeight: '45vh' }} item container>\n          <Grid item container spacing={3} xs={12}>\n            <Grid item xs={12} md={3}>\n              <Card className={classes.stepListCard} variant=\"outlined\">\n                <CardContent className={classes.cardContent}>\n                  <Grid container>\n                    <Grid item xs={6}>\n                      <Button\n                        variant=\"contained\"\n                        style={{ background: 'lightgrey' }}\n                        size=\"small\"\n                        className={classes.button}\n                        onClick={() => {\n                          addStep(true);\n                        }}\n                        endIcon={<ImageIcon />}\n                      >\n                        Add\n                      </Button>\n                    </Grid>\n                    <Grid item xs={6}>\n                      <Button\n                        variant=\"contained\"\n                        style={{ background: 'lightgrey' }}\n                        size=\"small\"\n                        className={classes.button}\n                        onClick={() => {\n                          addStep(false);\n                        }}\n                        endIcon={<VideocamIcon />}\n                      >\n                        Add\n                      </Button>\n                    </Grid>\n                  </Grid>\n                  <div className={classes.listRoot}>\n                    <DragDropContext onDragEnd={onDragEnd}>\n                      <Droppable droppableId=\"droppable\">\n                        {(provided) => {\n                          return (\n                            <RootRef rootRef={provided.innerRef}>\n                              <List disablePadding>\n                                {props.steps.map((step, index) => {\n                                  return (\n                                    <Draggable key={index} draggableId={`step-${index}`} index={index}>\n                                      {(provided, snapshot) => (\n                                        <ListItem\n                                          dense\n                                          divider\n                                          ContainerComponent=\"li\"\n                                          ContainerProps={{\n                                            ref: provided.innerRef,\n                                          }}\n                                          {...provided.draggableProps}\n                                          {...provided.dragHandleProps}\n                                          style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\n                                          button\n                                          selected={stepIndex === index}\n                                          onClick={() => {\n                                            setStep(step);\n                                            setStepIndex(index);\n                                          }}\n                                        >\n                                          <ListItemIcon>\n                                            {step.isPicStep ? (\n                                              <ImageIcon fontSize=\"small\" />\n                                            ) : (\n                                              <VideocamIcon fontSize=\"small\" />\n                                            )}\n                                          </ListItemIcon>\n                                          <ListItemText\n                                            classes={{\n                                              primary: classes.listItemText,\n                                              secondary: classes.listItemText,\n                                            }}\n                                            primary={`Step ${index + 1}`}\n                                            secondary={listTitle(step, index)}\n                                          />\n                                          <ListItemSecondaryAction hidden={!!snapshot.isDragging}>\n                                            <IconButton\n                                              edge=\"end\"\n                                              aria-label=\"delete\"\n                                              onClick={() => deleteStep(index)}\n                                            >\n                                              <HighlightOffIcon fontSize=\"small\" />\n                                            </IconButton>\n                                          </ListItemSecondaryAction>\n                                        </ListItem>\n                                      )}\n                                    </Draggable>\n                                  );\n                                })}\n                                {provided.placeholder}\n                              </List>\n                            </RootRef>\n                          );\n                        }}\n                      </Droppable>\n                    </DragDropContext>\n                  </div>\n                </CardContent>\n              </Card>\n            </Grid>\n            {props.steps.length > 0 ? (\n              <Grid item container spacing={2} alignItems=\"flex-start\" xs md>\n                <Grid item xs={12}>\n                  <Grid container justify=\"center\" alignItems=\"flex-start\" spacing={2}>\n                    <Grid item container xs={12} md={4} spacing={2}>\n                      <Grid item xs={12}>\n                        {step.isPicStep ? (\n                          <Paper variant=\"outlined\">\n                            <Box>\n                              <Image loading={false} src={step.file ? URL.createObjectURL(step.file) : step.mediaUrl} />\n                            </Box>\n                          </Paper>\n                        ) : (\n                          <Paper elevation={0} variant={step.file || step.mediaUrl ? null : 'outlined'}>\n                            <Box>\n                              {step.file ? (\n                                <ReactPlayer url={URL.createObjectURL(step.file)} controls={true} width=\"100%\" height=\"100%\" />\n                              ) : step.mediaUrl ? (\n                                <ReactPlayer url={step.mediaUrl} controls={true} width=\"100%\" height=\"100%\" />\n                              ) : (\n                                <Image loading={false} />\n                              )}\n                            </Box>\n                          </Paper>\n                        )}\n                      </Grid>\n\n                      <Grid item xs={12}>\n                        <TextField\n                          label=\"Upload file\"\n                          variant=\"outlined\"\n                          value={step.file ? step.file.name : step.mediaUrl}\n                          fullWidth\n                          required\n                          InputProps={{\n                            endAdornment: !(step.file || step.mediaUrl) ? (\n                              <FileuploadComponent\n                                files={1}\n                                sizeLimit={100 * 1024 * 1024}\n                                allowedMimeTypes={step.isPicStep ? ['image/png', 'image/jpeg'] : ['video/mp4']}\n                                uploadFunction={uploadFile}\n                              />\n                            ) : (\n                              <Close onClick={() => setDeleteDialogOpen(true)} />\n                            ),\n                          }}\n                        />\n                      </Grid>\n                      <Dialog open={deleteDialogOpen} onClose={() => setDeleteDialogOpen(false)}>\n                        <DialogContent>\n                          <DialogContentText>{'Are you sure you want to delete the file?'}</DialogContentText>\n                        </DialogContent>\n                        <DialogActions>\n                          <Button onClick={() => setDeleteDialogOpen(false)} color=\"primary\">\n                            Cancel\n                          </Button>\n                          <Button onClick={() => handleDeleteFile(step)} color=\"primary\" autoFocus>\n                            Delete\n                          </Button>\n                        </DialogActions>\n                      </Dialog>\n                    </Grid>\n                    <Grid item container xs md spacing={2}>\n                      <Grid item xs={12}>\n                        <TextField\n                          fullWidth\n                          value={step.title}\n                          id=\"outlined-basic\"\n                          label=\"Title\"\n                          variant=\"outlined\"\n                          size=\"small\"\n                          name=\"title\"\n                          onChange={handleChange}\n                          required\n                        />\n                      </Grid>\n\n                      <Grid item xs={12}>\n                        <TextField\n                          fullWidth\n                          value={step.description}\n                          id=\"outlined-multiline-static\"\n                          label=\"Description\"\n                          multiline\n                          rows={12}\n                          variant=\"outlined\"\n                          name=\"description\"\n                          onChange={handleChange}\n                          required\n                        />\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n            ) : (\n              <Grid item xs={8}>\n                {props.steps.length <= 0 ? (\n                  <StepperText\n                    type=\"heading\"\n                    primaryText=\"No tutorial steps yet!\"\n                    secondaryText=\"Use the buttons on the left to add either an image-based or a video-based tutorial step.\"\n                  />\n                ) : (\n                  <StepperText\n                    type=\"heading\"\n                    primaryText=\"You already created some tutorial steps.\"\n                    secondaryText=\"Click on a step on the left to edit it or add a new step by using the buttons below.\"\n                  />\n                )}\n              </Grid>\n            )}\n          </Grid>\n        </Grid>\n\n        {!allOtherStepsFilled ? (\n          <StepperText\n            type=\"error\"\n            errorText=\"At least one tutorial step has not been filled out yet. To continue you must first finish each step.\"\n          />\n        ) : (\n          <StepperText type=\"heading\" secondaryText=\"Created all necessary steps? Click 'Next' to continue.\" />\n        )}\n      </Grid>\n      <footer>\n        <Grid container spacing={1} justify=\"center\" alignItems=\"center\">\n          <Grid item>\n            <Button type=\"button\" variant=\"contained\" color=\"primary\" onClick={props.handleBack}>\n              Back\n            </Button>\n          </Grid>\n\n          <Grid item>\n            <Button disabled={!allOtherStepsFilled} type=\"submit\" variant=\"contained\" color=\"primary\">\n              Next\n            </Button>\n          </Grid>\n        </Grid>\n      </footer>\n    </form>\n  );\n}\n\nTutorialCreationStepTwo.propTypes = {\n  editMode: PropTypes.bool.isRequired,\n  steps: PropTypes.array.isRequired,\n  addStep: PropTypes.func.isRequired,\n  updateStep: PropTypes.func.isRequired,\n  deleteStep: PropTypes.func.isRequired,\n  setErrorText: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nexport default TutorialCreationStepTwo;\n"]},"metadata":{},"sourceType":"module"}