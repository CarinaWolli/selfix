{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/carinawollendorfer/selfix/frontend/src/components/cms/TutorialCreationStepTwo.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Grid, Box, Paper, Card, CardContent, TextField, Button, DialogContent, DialogContentText, DialogActions, Dialog } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ImageIcon from '@material-ui/icons/Image';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport IconButton from '@material-ui/core/IconButton';\nimport VideocamIcon from '@material-ui/icons/Videocam';\nimport StepperText from './StepperText';\nimport FileuploadComponent from '../FileuploadComponent';\nimport Image from 'material-ui-image';\nimport { Close } from '@material-ui/icons';\nimport ReactPlayer from 'react-player';\nimport PropTypes from 'prop-types';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport RootRef from '@material-ui/core/RootRef';\nimport FileuploadService from '../../services/FileuploadService';\nconst useStyles = makeStyles({\n  stepListCard: {\n    height: '43vh',\n    borderWidth: '1px',\n    borderColor: '#616161'\n  },\n  stepCard: {\n    minHeight: '43vh',\n    borderWidth: '1px',\n    borderColor: '#616161'\n  },\n  child: {\n    height: 272,\n    overflow: 'auto'\n  },\n  cardContent: {\n    padding: '0px'\n  },\n  listRoot: {\n    width: '100%'\n  },\n  button: {\n    width: '100%',\n    borderRadius: 0\n  }\n});\n\nconst listTitle = step => {\n  let title;\n\n  if (step.title) {\n    if (step.title.length > 12) {\n      title = `${step.title.substring(0, 12)}...`;\n    } else {\n      title = step.title;\n    }\n  } else {\n    title = 'No title yet';\n  }\n\n  return title;\n};\n/**\n * Step two tutorial creation\n * @param {props} props\n */\n\n\nfunction TutorialCreationStepTwo(props) {\n  _s();\n\n  const classes = useStyles();\n  const [deleteDialogOpen, setDeleteDialogOpen] = React.useState(false);\n  const [allOtherStepsFilled, setAllOtherStepsFilled] = React.useState(false);\n  const [stepIndex, setStepIndex] = React.useState(0);\n  const [step, setStep] = React.useState({\n    title: '',\n    description: '',\n    mediaUrl: '',\n    isPicStep: true,\n    file: undefined\n  });\n  React.useEffect(() => {\n    setStep(props.steps[stepIndex]);\n  }, [stepIndex]);\n  React.useEffect(() => {\n    let filled = true;\n\n    if (props.steps.length === 0) {\n      filled = false;\n    }\n\n    props.steps.forEach(step => {\n      const stepTitleFilled = step.title && step.title !== '';\n      const stepDescriptionFilled = step.description && step.description !== '';\n      const stepHasFile = step.file || step.mediaUrl !== '';\n      const allRequiredFilled = stepTitleFilled && stepDescriptionFilled && stepHasFile;\n\n      if (!allRequiredFilled) {\n        filled = false;\n      }\n    });\n    setAllOtherStepsFilled(filled);\n  }, [props.steps]);\n\n  const addStep = isPicStep => {\n    setStepIndex(props.steps.length);\n    const newStep = {\n      title: '',\n      description: '',\n      mediaUrl: '',\n      isPicStep: !!isPicStep,\n      file: undefined\n    };\n    props.addStep(newStep);\n    setStep(newStep);\n  };\n\n  function deleteStep(index) {\n    const stepToDelete = props.steps[index];\n\n    (async () => {\n      try {\n        await FileuploadService.deleteFile(stepToDelete.mediaUrl);\n      } catch (e) {\n        console.log(e);\n      }\n    })();\n\n    if (props.steps.length === 1) {\n      setStepIndex(-1);\n    } else if (index === 0) {\n      setStepIndex(0);\n      setStep(props.steps[index + 1]);\n    } else {\n      setStepIndex(index - 1);\n      setStep(props.steps[index - 1]);\n    }\n\n    props.deleteStep(index);\n  }\n\n  function handleChange(event) {\n    const updatedStep = { ...step,\n      [event.target.name]: event.target.value\n    };\n    setStep(updatedStep);\n    props.updateStep(updatedStep, stepIndex);\n  }\n\n  const handleDeleteFile = step => {\n    (async () => {\n      setDeleteDialogOpen(false);\n\n      if (step.file) {\n        step.file = undefined;\n      } else {\n        try {\n          const imageUrl = step.mediaUrl;\n          step.mediaUrl = '';\n          await FileuploadService.deleteFile(imageUrl);\n        } catch (e) {\n          props.setErrorText('Error while deleting file for step ' + step.title);\n        }\n      }\n\n      props.updateStep(step, stepIndex);\n    })();\n  };\n\n  function uploadFile(fileToUpload, fileName, error) {\n    step.file = fileToUpload;\n    handleChange(event);\n    props.setErrorText(error);\n  }\n\n  const reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n    return result;\n  };\n\n  const onDragEnd = result => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    const reorderedSteps = reorder(props.steps, result.source.index, result.destination.index);\n    setStepIndex(result.destination.index);\n    setStep(props.steps[result.destination.index]);\n    props.setSteps(reorderedSteps);\n  };\n\n  const getItemStyle = (isDragging, draggableStyle) => ({ // styles we need to apply on draggables\n    ...draggableStyle,\n    ...(isDragging && {\n      background: 'rgb(235,235,235)'\n    })\n  });\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: props.handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      style: {\n        minHeight: '60vh'\n      },\n      container: true,\n      spacing: 3,\n      alignItems: \"flex-start\",\n      children: [/*#__PURE__*/_jsxDEV(StepperText, {\n        type: \"title\",\n        primaryText: \"Tutorial Steps\",\n        secondaryText: \"Upload an image. Enter a title and a description.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        style: {\n          minHeight: '45vh'\n        },\n        item: true,\n        container: true,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          container: true,\n          spacing: 3,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              style: {\n                maxHeight: '100%',\n                overflow: 'auto'\n              },\n              className: classes.stepListCard,\n              variant: \"outlined\",\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                className: classes.cardContent,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      style: {\n                        background: 'lightgrey'\n                      },\n                      size: \"small\",\n                      className: classes.button,\n                      onClick: () => {\n                        addStep(true);\n                      },\n                      endIcon: /*#__PURE__*/_jsxDEV(ImageIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 237,\n                        columnNumber: 34\n                      }, this),\n                      children: \"Add\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      style: {\n                        background: 'lightgrey'\n                      },\n                      size: \"small\",\n                      className: classes.button,\n                      onClick: () => {\n                        addStep(false);\n                      },\n                      endIcon: /*#__PURE__*/_jsxDEV(VideocamIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 251,\n                        columnNumber: 34\n                      }, this),\n                      children: \"Add\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.listRoot,\n                  children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n                    onDragEnd: onDragEnd,\n                    children: /*#__PURE__*/_jsxDEV(Droppable, {\n                      droppableId: \"droppable\",\n                      children: provided => {\n                        return /*#__PURE__*/_jsxDEV(RootRef, {\n                          rootRef: provided.innerRef,\n                          children: /*#__PURE__*/_jsxDEV(List, {\n                            label: \"Enable dense\",\n                            children: [props.steps.map((step, index) => {\n                              return /*#__PURE__*/_jsxDEV(Draggable, {\n                                draggableId: `step-${index}`,\n                                index: index,\n                                children: (provided, snapshot) => /*#__PURE__*/_jsxDEV(ListItem, {\n                                  ContainerComponent: \"li\",\n                                  ContainerProps: {\n                                    ref: provided.innerRef\n                                  },\n                                  ...provided.draggableProps,\n                                  ...provided.dragHandleProps,\n                                  style: getItemStyle(snapshot.isDragging, provided.draggableProps.style),\n                                  button: true,\n                                  selected: stepIndex === index,\n                                  onClick: () => {\n                                    setStep(step);\n                                    setStepIndex(index);\n                                  },\n                                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                                    children: step.isPicStep ? /*#__PURE__*/_jsxDEV(ImageIcon, {}, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 284,\n                                      columnNumber: 63\n                                    }, this) : /*#__PURE__*/_jsxDEV(VideocamIcon, {}, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 284,\n                                      columnNumber: 79\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 283,\n                                    columnNumber: 43\n                                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                                    primary: `Step ${index + 1}`,\n                                    secondary: listTitle(step, index)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 286,\n                                    columnNumber: 43\n                                  }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n                                    hidden: !!snapshot.isDragging,\n                                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                                      edge: \"end\",\n                                      \"aria-label\": \"delete\",\n                                      onClick: () => deleteStep(index),\n                                      children: /*#__PURE__*/_jsxDEV(HighlightOffIcon, {}, void 0, false, {\n                                        fileName: _jsxFileName,\n                                        lineNumber: 296,\n                                        columnNumber: 47\n                                      }, this)\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 291,\n                                      columnNumber: 45\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 290,\n                                    columnNumber: 43\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 268,\n                                  columnNumber: 41\n                                }, this)\n                              }, index, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 266,\n                                columnNumber: 37\n                              }, this);\n                            }), provided.placeholder]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 263,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 262,\n                          columnNumber: 29\n                        }, this);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), props.steps.length > 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            container: true,\n            spacing: 2,\n            alignItems: \"flex-start\",\n            xs: true,\n            md: true,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: classes.stepCard,\n                variant: \"outlined\",\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  children: /*#__PURE__*/_jsxDEV(Grid, {\n                    container: true,\n                    justify: \"center\",\n                    alignItems: \"flex-start\",\n                    spacing: 2,\n                    children: [/*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      container: true,\n                      xs: 12,\n                      md: 4,\n                      spacing: 2,\n                      children: [/*#__PURE__*/_jsxDEV(Grid, {\n                        item: true,\n                        xs: 12,\n                        children: step.isPicStep ? /*#__PURE__*/_jsxDEV(Paper, {\n                          variant: \"outlined\",\n                          children: /*#__PURE__*/_jsxDEV(Box, {\n                            children: /*#__PURE__*/_jsxDEV(Image, {\n                              loading: false,\n                              src: step.file ? URL.createObjectURL(step.file) : step.mediaUrl\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 326,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 325,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 324,\n                          columnNumber: 31\n                        }, this) : /*#__PURE__*/_jsxDEV(Paper, {\n                          elevation: 0,\n                          variant: step.file ? null : 'outlined',\n                          children: /*#__PURE__*/_jsxDEV(Box, {\n                            children: step.file ? /*#__PURE__*/_jsxDEV(ReactPlayer, {\n                              url: step.file ? URL.createObjectURL(step.file) : step.mediaUrl,\n                              controls: true,\n                              width: \"100%\",\n                              height: \"100%\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 336,\n                              columnNumber: 37\n                            }, this) : /*#__PURE__*/_jsxDEV(Image, {\n                              loading: false\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 343,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 334,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 333,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                        item: true,\n                        xs: 12,\n                        children: /*#__PURE__*/_jsxDEV(TextField, {\n                          label: \"Upload file\",\n                          variant: \"outlined\",\n                          value: step.file ? step.file.name : step.mediaUrl,\n                          fullWidth: true,\n                          required: true,\n                          InputProps: {\n                            endAdornment: !(step.file || step.mediaUrl) ? /*#__PURE__*/_jsxDEV(FileuploadComponent, {\n                              files: 1,\n                              sizeLimit: 100 * 1024 * 1024,\n                              allowedMimeTypes: step.isPicStep ? ['image/png', 'image/jpeg'] : ['video/mp4'],\n                              uploadFunction: uploadFile\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 359,\n                              columnNumber: 35\n                            }, this) : /*#__PURE__*/_jsxDEV(Close, {\n                              onClick: () => setDeleteDialogOpen(true)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 366,\n                              columnNumber: 35\n                            }, this)\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 351,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 350,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                        open: deleteDialogOpen,\n                        onClose: () => setDeleteDialogOpen(false),\n                        children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n                          children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n                            children: 'Are you sure you want to delete the file?'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 373,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 372,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                          children: [/*#__PURE__*/_jsxDEV(Button, {\n                            onClick: () => setDeleteDialogOpen(false),\n                            color: \"primary\",\n                            children: \"Cancel\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 376,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            onClick: () => handleDeleteFile(step),\n                            color: \"primary\",\n                            autoFocus: true,\n                            children: \"Delete\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 379,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 375,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      container: true,\n                      xs: true,\n                      md: true,\n                      spacing: 2,\n                      children: [/*#__PURE__*/_jsxDEV(Grid, {\n                        item: true,\n                        xs: 12,\n                        children: /*#__PURE__*/_jsxDEV(TextField, {\n                          fullWidth: true,\n                          value: step.title,\n                          id: \"outlined-basic\",\n                          label: \"Title\",\n                          variant: \"outlined\",\n                          size: \"small\",\n                          name: \"title\",\n                          onChange: handleChange,\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 387,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 386,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                        item: true,\n                        xs: 12,\n                        children: /*#__PURE__*/_jsxDEV(TextField, {\n                          fullWidth: true,\n                          value: step.description,\n                          id: \"outlined-multiline-static\",\n                          label: \"Description\",\n                          multiline: true,\n                          rows: 12,\n                          variant: \"outlined\",\n                          name: \"description\",\n                          onChange: handleChange,\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 401,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 400,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 8,\n            children: props.steps.length <= 0 ? /*#__PURE__*/_jsxDEV(StepperText, {\n              type: \"heading\",\n              primaryText: \"No tutorial steps yet!\",\n              secondaryText: \"Use the buttons on the left to add either an image-based or a video-based tutorial step.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(StepperText, {\n              type: \"heading\",\n              primaryText: \"You already created some tutorial steps.\",\n              secondaryText: \"Click on a step on the left to edit it or add a new step by using the buttons below.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), !allOtherStepsFilled ? /*#__PURE__*/_jsxDEV(StepperText, {\n        type: \"error\",\n        errorText: \"At least one tutorial step has not been filled out yet. To continue you must first finish each step.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(StepperText, {\n        type: \"heading\",\n        secondaryText: \"Created all necessary steps? Click 'Next' to continue.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        justify: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"button\",\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: props.handleBack,\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disabled: !allOtherStepsFilled,\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 215,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TutorialCreationStepTwo, \"R+yLJqmYno3+N+inEKhhypjd9+Y=\", false, function () {\n  return [useStyles];\n});\n\n_c = TutorialCreationStepTwo;\nTutorialCreationStepTwo.propTypes = {\n  steps: PropTypes.array.isRequired,\n  addStep: PropTypes.func.isRequired,\n  updateStep: PropTypes.func.isRequired,\n  deleteStep: PropTypes.func.isRequired,\n  setErrorText: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired\n};\nexport default TutorialCreationStepTwo;\n\nvar _c;\n\n$RefreshReg$(_c, \"TutorialCreationStepTwo\");","map":{"version":3,"sources":["/Users/carinawollendorfer/selfix/frontend/src/components/cms/TutorialCreationStepTwo.js"],"names":["React","Grid","Box","Paper","Card","CardContent","TextField","Button","DialogContent","DialogContentText","DialogActions","Dialog","makeStyles","ImageIcon","List","ListItem","ListItemIcon","ListItemText","ListItemSecondaryAction","HighlightOffIcon","IconButton","VideocamIcon","StepperText","FileuploadComponent","Image","Close","ReactPlayer","PropTypes","DragDropContext","Droppable","Draggable","RootRef","FileuploadService","useStyles","stepListCard","height","borderWidth","borderColor","stepCard","minHeight","child","overflow","cardContent","padding","listRoot","width","button","borderRadius","listTitle","step","title","length","substring","TutorialCreationStepTwo","props","classes","deleteDialogOpen","setDeleteDialogOpen","useState","allOtherStepsFilled","setAllOtherStepsFilled","stepIndex","setStepIndex","setStep","description","mediaUrl","isPicStep","file","undefined","useEffect","steps","filled","forEach","stepTitleFilled","stepDescriptionFilled","stepHasFile","allRequiredFilled","addStep","newStep","deleteStep","index","stepToDelete","deleteFile","e","console","log","handleChange","event","updatedStep","target","name","value","updateStep","handleDeleteFile","imageUrl","setErrorText","uploadFile","fileToUpload","fileName","error","reorder","list","startIndex","endIndex","result","Array","from","removed","splice","onDragEnd","destination","reorderedSteps","source","setSteps","getItemStyle","isDragging","draggableStyle","background","handleSubmit","maxHeight","provided","innerRef","map","snapshot","ref","draggableProps","dragHandleProps","style","placeholder","URL","createObjectURL","endAdornment","handleBack","propTypes","array","isRequired","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Grid,\n  Box,\n  Paper,\n  Card,\n  CardContent,\n  TextField,\n  Button,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Dialog,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ImageIcon from '@material-ui/icons/Image';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport IconButton from '@material-ui/core/IconButton';\nimport VideocamIcon from '@material-ui/icons/Videocam';\nimport StepperText from './StepperText';\nimport FileuploadComponent from '../FileuploadComponent';\nimport Image from 'material-ui-image';\nimport { Close } from '@material-ui/icons';\nimport ReactPlayer from 'react-player';\nimport PropTypes from 'prop-types';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport RootRef from '@material-ui/core/RootRef';\nimport FileuploadService from '../../services/FileuploadService';\n\nconst useStyles = makeStyles({\n  stepListCard: {\n    height: '43vh',\n    borderWidth: '1px',\n    borderColor: '#616161',\n  },\n  stepCard: {\n    minHeight: '43vh',\n    borderWidth: '1px',\n    borderColor: '#616161',\n  },\n  child: {\n    height: 272,\n    overflow: 'auto',\n  },\n  cardContent: {\n    padding: '0px',\n  },\n  listRoot: {\n    width: '100%',\n  },\n  button: {\n    width: '100%',\n    borderRadius: 0,\n  },\n});\n\nconst listTitle = (step) => {\n  let title;\n  if (step.title) {\n    if (step.title.length > 12) {\n      title = `${step.title.substring(0, 12)}...`;\n    } else {\n      title = step.title;\n    }\n  } else {\n    title = 'No title yet';\n  }\n  return title;\n};\n\n/**\n * Step two tutorial creation\n * @param {props} props\n */\nfunction TutorialCreationStepTwo(props) {\n  const classes = useStyles();\n  const [deleteDialogOpen, setDeleteDialogOpen] = React.useState(false);\n  const [allOtherStepsFilled, setAllOtherStepsFilled] = React.useState(false);\n  const [stepIndex, setStepIndex] = React.useState(0);\n  const [step, setStep] = React.useState({\n    title: '',\n    description: '',\n    mediaUrl: '',\n    isPicStep: true,\n    file: undefined,\n  });\n\n  React.useEffect(() => {\n    setStep(props.steps[stepIndex]);\n  }, [stepIndex]);\n\n  React.useEffect(() => {\n    let filled = true;\n\n    if (props.steps.length === 0) {\n      filled = false;\n    }\n\n    props.steps.forEach((step) => {\n      const stepTitleFilled = step.title && step.title !== '';\n      const stepDescriptionFilled = step.description && step.description !== '';\n      const stepHasFile = step.file || step.mediaUrl !== '';\n\n      const allRequiredFilled = stepTitleFilled && stepDescriptionFilled && stepHasFile;\n      if (!allRequiredFilled) {\n        filled = false;\n      }\n    });\n\n    setAllOtherStepsFilled(filled);\n  }, [props.steps]);\n\n  const addStep = (isPicStep) => {\n    setStepIndex(props.steps.length);\n    const newStep = {\n      title: '',\n      description: '',\n      mediaUrl: '',\n      isPicStep: !!isPicStep,\n      file: undefined,\n    };\n    props.addStep(newStep);\n    setStep(newStep);\n  };\n\n  function deleteStep(index) {\n    const stepToDelete = props.steps[index];\n    (async () => {\n      try {\n        await FileuploadService.deleteFile(stepToDelete.mediaUrl);\n      } catch (e) {\n        console.log(e);\n      }\n    })();\n    if (props.steps.length === 1) {\n      setStepIndex(-1);\n    } else if (index === 0) {\n      setStepIndex(0);\n      setStep(props.steps[index + 1]);\n    } else {\n      setStepIndex(index - 1);\n      setStep(props.steps[index - 1]);\n    }\n    props.deleteStep(index);\n  }\n\n  function handleChange(event) {\n    const updatedStep = {\n      ...step,\n      [event.target.name]: event.target.value,\n    };\n\n    setStep(updatedStep);\n    props.updateStep(updatedStep, stepIndex);\n  }\n\n  const handleDeleteFile = (step) => {\n    (async () => {\n      setDeleteDialogOpen(false);\n      if (step.file) {\n        step.file = undefined;\n      } else {\n        try {\n          const imageUrl = step.mediaUrl;\n          step.mediaUrl = '';\n          await FileuploadService.deleteFile(imageUrl);\n        } catch (e) {\n          props.setErrorText('Error while deleting file for step ' + step.title);\n        }\n      }\n      props.updateStep(step, stepIndex);\n    })();\n  };\n\n  function uploadFile(fileToUpload, fileName, error) {\n    step.file = fileToUpload;\n    handleChange(event);\n    props.setErrorText(error);\n  }\n\n  const reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n\n    return result;\n  };\n\n  const onDragEnd = (result) => {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n    const reorderedSteps = reorder(props.steps, result.source.index, result.destination.index);\n    setStepIndex(result.destination.index);\n    setStep(props.steps[result.destination.index]);\n    props.setSteps(reorderedSteps);\n  };\n\n  const getItemStyle = (isDragging, draggableStyle) => ({\n    // styles we need to apply on draggables\n    ...draggableStyle,\n\n    ...(isDragging && {\n      background: 'rgb(235,235,235)',\n    }),\n  });\n\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <Grid style={{ minHeight: '60vh' }} container spacing={3} alignItems=\"flex-start\">\n        <StepperText\n          type=\"title\"\n          primaryText=\"Tutorial Steps\"\n          secondaryText=\"Upload an image. Enter a title and a description.\"\n        />\n        <Grid style={{ minHeight: '45vh' }} item container>\n          <Grid item container spacing={3} xs={12}>\n            <Grid item xs={12} md={3}>\n              <Card style={{ maxHeight: '100%', overflow: 'auto' }} className={classes.stepListCard} variant=\"outlined\">\n                <CardContent className={classes.cardContent}>\n                  <Grid container>\n                    <Grid item xs={6}>\n                      <Button\n                        variant=\"contained\"\n                        style={{ background: 'lightgrey' }}\n                        size=\"small\"\n                        className={classes.button}\n                        onClick={() => {\n                          addStep(true);\n                        }}\n                        endIcon={<ImageIcon />}\n                      >\n                        Add\n                      </Button>\n                    </Grid>\n                    <Grid item xs={6}>\n                      <Button\n                        variant=\"contained\"\n                        style={{ background: 'lightgrey' }}\n                        size=\"small\"\n                        className={classes.button}\n                        onClick={() => {\n                          addStep(false);\n                        }}\n                        endIcon={<VideocamIcon />}\n                      >\n                        Add\n                      </Button>\n                    </Grid>\n                  </Grid>\n                  <div className={classes.listRoot}>\n                    <DragDropContext onDragEnd={onDragEnd}>\n                      <Droppable droppableId=\"droppable\">\n                        {(provided) => {\n                          return (\n                            <RootRef rootRef={provided.innerRef}>\n                              <List label=\"Enable dense\">\n                                {props.steps.map((step, index) => {\n                                  return (\n                                    <Draggable key={index} draggableId={`step-${index}`} index={index}>\n                                      {(provided, snapshot) => (\n                                        <ListItem\n                                          ContainerComponent=\"li\"\n                                          ContainerProps={{\n                                            ref: provided.innerRef,\n                                          }}\n                                          {...provided.draggableProps}\n                                          {...provided.dragHandleProps}\n                                          style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\n                                          button\n                                          selected={stepIndex === index}\n                                          onClick={() => {\n                                            setStep(step);\n                                            setStepIndex(index);\n                                          }}\n                                        >\n                                          <ListItemIcon>\n                                            {step.isPicStep ? <ImageIcon /> : <VideocamIcon />}\n                                          </ListItemIcon>\n                                          <ListItemText\n                                            primary={`Step ${index + 1}`}\n                                            secondary={listTitle(step, index)}\n                                          />\n                                          <ListItemSecondaryAction hidden={!!snapshot.isDragging}>\n                                            <IconButton\n                                              edge=\"end\"\n                                              aria-label=\"delete\"\n                                              onClick={() => deleteStep(index)}\n                                            >\n                                              <HighlightOffIcon />\n                                            </IconButton>\n                                          </ListItemSecondaryAction>\n                                        </ListItem>\n                                      )}\n                                    </Draggable>\n                                  );\n                                })}\n                                {provided.placeholder}\n                              </List>\n                            </RootRef>\n                          );\n                        }}\n                      </Droppable>\n                    </DragDropContext>\n                  </div>\n                </CardContent>\n              </Card>\n            </Grid>\n            {props.steps.length > 0 ? (\n              <Grid item container spacing={2} alignItems=\"flex-start\" xs md>\n                <Grid item xs={12}>\n                  <Card className={classes.stepCard} variant=\"outlined\">\n                    <CardContent>\n                      <Grid container justify=\"center\" alignItems=\"flex-start\" spacing={2}>\n                        <Grid item container xs={12} md={4} spacing={2}>\n                          <Grid item xs={12}>\n                            {step.isPicStep ? (\n                              <Paper variant=\"outlined\">\n                                <Box>\n                                  <Image\n                                    loading={false}\n                                    src={step.file ? URL.createObjectURL(step.file) : step.mediaUrl}\n                                  />\n                                </Box>\n                              </Paper>\n                            ) : (\n                              <Paper elevation={0} variant={step.file ? null : 'outlined'}>\n                                <Box>\n                                  {step.file ? (\n                                    <ReactPlayer\n                                      url={step.file ? URL.createObjectURL(step.file) : step.mediaUrl}\n                                      controls={true}\n                                      width=\"100%\"\n                                      height=\"100%\"\n                                    />\n                                  ) : (\n                                    <Image loading={false} />\n                                  )}\n                                </Box>\n                              </Paper>\n                            )}\n                          </Grid>\n\n                          <Grid item xs={12}>\n                            <TextField\n                              label=\"Upload file\"\n                              variant=\"outlined\"\n                              value={step.file ? step.file.name : step.mediaUrl}\n                              fullWidth\n                              required\n                              InputProps={{\n                                endAdornment: !(step.file || step.mediaUrl) ? (\n                                  <FileuploadComponent\n                                    files={1}\n                                    sizeLimit={100 * 1024 * 1024}\n                                    allowedMimeTypes={step.isPicStep ? ['image/png', 'image/jpeg'] : ['video/mp4']}\n                                    uploadFunction={uploadFile}\n                                  />\n                                ) : (\n                                  <Close onClick={() => setDeleteDialogOpen(true)} />\n                                ),\n                              }}\n                            />\n                          </Grid>\n                          <Dialog open={deleteDialogOpen} onClose={() => setDeleteDialogOpen(false)}>\n                            <DialogContent>\n                              <DialogContentText>{'Are you sure you want to delete the file?'}</DialogContentText>\n                            </DialogContent>\n                            <DialogActions>\n                              <Button onClick={() => setDeleteDialogOpen(false)} color=\"primary\">\n                                Cancel\n                              </Button>\n                              <Button onClick={() => handleDeleteFile(step)} color=\"primary\" autoFocus>\n                                Delete\n                              </Button>\n                            </DialogActions>\n                          </Dialog>\n                        </Grid>\n                        <Grid item container xs md spacing={2}>\n                          <Grid item xs={12}>\n                            <TextField\n                              fullWidth\n                              value={step.title}\n                              id=\"outlined-basic\"\n                              label=\"Title\"\n                              variant=\"outlined\"\n                              size=\"small\"\n                              name=\"title\"\n                              onChange={handleChange}\n                              required\n                            />\n                          </Grid>\n\n                          <Grid item xs={12}>\n                            <TextField\n                              fullWidth\n                              value={step.description}\n                              id=\"outlined-multiline-static\"\n                              label=\"Description\"\n                              multiline\n                              rows={12}\n                              variant=\"outlined\"\n                              name=\"description\"\n                              onChange={handleChange}\n                              required\n                            />\n                          </Grid>\n                        </Grid>\n                      </Grid>\n                    </CardContent>\n                  </Card>\n                </Grid>\n              </Grid>\n            ) : (\n              <Grid item xs={8}>\n                {props.steps.length <= 0 ? (\n                  <StepperText\n                    type=\"heading\"\n                    primaryText=\"No tutorial steps yet!\"\n                    secondaryText=\"Use the buttons on the left to add either an image-based or a video-based tutorial step.\"\n                  />\n                ) : (\n                  <StepperText\n                    type=\"heading\"\n                    primaryText=\"You already created some tutorial steps.\"\n                    secondaryText=\"Click on a step on the left to edit it or add a new step by using the buttons below.\"\n                  />\n                )}\n              </Grid>\n            )}\n          </Grid>\n        </Grid>\n\n        {!allOtherStepsFilled ? (\n          <StepperText\n            type=\"error\"\n            errorText=\"At least one tutorial step has not been filled out yet. To continue you must first finish each step.\"\n          />\n        ) : (\n          <StepperText type=\"heading\" secondaryText=\"Created all necessary steps? Click 'Next' to continue.\" />\n        )}\n      </Grid>\n      <footer>\n        <Grid container spacing={1} justify=\"center\" alignItems=\"center\">\n          <Grid item>\n            <Button type=\"button\" variant=\"contained\" color=\"primary\" onClick={props.handleBack}>\n              Back\n            </Button>\n          </Grid>\n\n          <Grid item>\n            <Button disabled={!allOtherStepsFilled} type=\"submit\" variant=\"contained\" color=\"primary\">\n              Next\n            </Button>\n          </Grid>\n        </Grid>\n      </footer>\n    </form>\n  );\n}\n\nTutorialCreationStepTwo.propTypes = {\n  steps: PropTypes.array.isRequired,\n  addStep: PropTypes.func.isRequired,\n  updateStep: PropTypes.func.isRequired,\n  deleteStep: PropTypes.func.isRequired,\n  setErrorText: PropTypes.func.isRequired,\n  handleBack: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nexport default TutorialCreationStepTwo;\n"]},"metadata":{},"sourceType":"module"}