{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/carinawollendorfer/selfix/frontend/src/components/cms/ToolOptionTable.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport moment from 'moment';\nimport { Delete } from '@material-ui/icons';\nimport ToolOptionService from '../../services/ToolOptionService';\nimport Zoom from 'react-medium-image-zoom';\nimport 'react-medium-image-zoom/dist/styles.css';\nimport DeleteDialog from './DeleteDialog';\n\nconst ThumbRenderer = params => {\n  return /*#__PURE__*/_jsxDEV(Zoom, {\n    wrapStyle: {\n      display: 'block'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      loading: \"lazy\",\n      src: params.value,\n      alt: \"Thumbnail\",\n      style: {\n        display: 'block',\n        width: 35,\n        height: 'auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 49\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 11\n  }, this);\n};\n\n_c = ThumbRenderer;\n\nconst LinkRenderer = params => {\n  return /*#__PURE__*/_jsxDEV(\"a\", {\n    href: params.value,\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    children: \"Link\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 11\n  }, this);\n};\n\n_c2 = LinkRenderer;\n\nconst DeleteButtonRenderer = () => {\n  return /*#__PURE__*/_jsxDEV(Delete, {\n    fontSize: \"small\",\n    style: {\n      display: 'block',\n      margin: 'auto'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 10\n  }, this);\n};\n\n_c3 = DeleteButtonRenderer;\n\nconst dateFormatter = params => {\n  const date = params.value;\n  let momentDate = moment(date);\n  return momentDate.toString();\n};\n\nconst ToolOptionTable = () => {\n  _s();\n\n  const [tableData, setTableData] = React.useState([]);\n  React.useEffect(async () => {\n    try {\n      const toolOptions = await ToolOptionService.getToolOptions();\n      setTableData(toolOptions);\n    } catch (e) {\n      console.log(e);\n    }\n  }, []);\n  const [toolOptionToDelete, setToolOptionToDelete] = React.useState(null);\n\n  const handleCloseDelete = () => {\n    setToolOptionToDelete(null);\n  };\n\n  const handleDelete = async () => {\n    try {\n      await ToolOptionService.deleteToolOption(toolOptionToDelete._id);\n      setTableData(tableData.filter(value => value._id !== toolOptionToDelete._id));\n    } catch (e) {\n      console.log(e);\n    }\n\n    setToolOptionToDelete(null);\n  };\n\n  const onFirstDataRendered = params => {\n    params.api.sizeColumnsToFit();\n  };\n\n  const onGridSizeChanged = params => {\n    params.api.sizeColumnsToFit();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ag-theme-alpine\",\n    style: {\n      height: 600\n    },\n    children: [/*#__PURE__*/_jsxDEV(AgGridReact, {\n      rowData: tableData,\n      onFirstDataRendered: onFirstDataRendered,\n      onGridSizeChanged: onGridSizeChanged,\n      frameworkComponents: {\n        thumbrenderer: ThumbRenderer,\n        deletebutton: DeleteButtonRenderer,\n        linkrenderer: LinkRenderer\n      },\n      defaultColDef: {\n        sortable: true,\n        filter: true\n      },\n      rowSelection: \"multiple\",\n      enableBrowserTooltips: true,\n      children: [/*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"imageUrl\",\n        minWidth: 20,\n        headerName: \"Thumbnail\",\n        checkboxSelection: true,\n        cellRenderer: \"thumbrenderer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"name\",\n        minWidth: 80,\n        tooltipField: \"name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"affiliateLink\",\n        minWidth: 80,\n        cellRenderer: \"linkrenderer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"price\",\n        valueFormatter: params => params.value ? params.value + '€' : '-/-'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"toolCategory.name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"creationDate\",\n        minWidth: 80,\n        headerName: \"Creation Date\",\n        valueFormatter: dateFormatter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"lastUpdatedDate\",\n        minWidth: 80,\n        headerName: \"Last Update\",\n        valueFormatter: dateFormatter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        width: 20,\n        onCellClicked: params => {\n          setToolOptionToDelete(params.data);\n        },\n        cellStyle: {\n          'height': '100%',\n          'display': 'flex ',\n          'justify-content': 'center',\n          'align-items': 'center '\n        },\n        cellRenderer: \"deletebutton\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteDialog, {\n      open: toolOptionToDelete !== null,\n      handleClose: handleCloseDelete,\n      handleDelete: handleDelete,\n      name: toolOptionToDelete ? toolOptionToDelete.name : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ToolOptionTable, \"0K7trsqhegfoRZZO/jzfa22Kjr8=\");\n\n_c4 = ToolOptionTable;\nexport default ToolOptionTable;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"ThumbRenderer\");\n$RefreshReg$(_c2, \"LinkRenderer\");\n$RefreshReg$(_c3, \"DeleteButtonRenderer\");\n$RefreshReg$(_c4, \"ToolOptionTable\");","map":{"version":3,"sources":["/Users/carinawollendorfer/selfix/frontend/src/components/cms/ToolOptionTable.js"],"names":["React","AgGridColumn","AgGridReact","moment","Delete","ToolOptionService","Zoom","DeleteDialog","ThumbRenderer","params","display","value","width","height","LinkRenderer","DeleteButtonRenderer","margin","dateFormatter","date","momentDate","toString","ToolOptionTable","tableData","setTableData","useState","useEffect","toolOptions","getToolOptions","e","console","log","toolOptionToDelete","setToolOptionToDelete","handleCloseDelete","handleDelete","deleteToolOption","_id","filter","onFirstDataRendered","api","sizeColumnsToFit","onGridSizeChanged","thumbrenderer","deletebutton","linkrenderer","sortable","data","name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\n\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport moment from 'moment';\nimport { Delete } from '@material-ui/icons';\nimport ToolOptionService from '../../services/ToolOptionService';\nimport Zoom from 'react-medium-image-zoom';\nimport 'react-medium-image-zoom/dist/styles.css';\nimport DeleteDialog from './DeleteDialog';\n\nconst ThumbRenderer = (params) => {\n  return (<Zoom wrapStyle={{ display: 'block'}}><img loading='lazy' src={params.value} alt='Thumbnail' style={{display: 'block', width: 35, height: 'auto' }} /></Zoom>);\n};\n\nconst LinkRenderer = (params) => {\n  return (<a href={params.value} target='_blank' rel='noreferrer'>Link</a>);\n};\n\nconst DeleteButtonRenderer = () => {\n  return <Delete fontSize='small' style={{display: 'block', margin: 'auto'}}/>;\n};\n\nconst dateFormatter = (params) => {\n  const date = params.value;\n  let momentDate = moment(date);\n  return momentDate.toString();\n};\n\nconst ToolOptionTable = () => {\n\n  const [tableData,setTableData] = React.useState([]);\n\n  React.useEffect(async () => {\n    try {\n      const toolOptions = await ToolOptionService.getToolOptions();\n      setTableData(toolOptions);\n    } catch(e) {\n      console.log(e);\n    }\n  }, []);\n\n  const [toolOptionToDelete,setToolOptionToDelete] = React.useState(null);\n  const handleCloseDelete = () => {\n    setToolOptionToDelete(null);\n  };\n\n  const handleDelete = async () => {\n    try{\n      await ToolOptionService.deleteToolOption(toolOptionToDelete._id);\n      setTableData(tableData.filter((value) => value._id !== toolOptionToDelete._id));\n    } catch(e) {\n      console.log(e);\n    }\n    setToolOptionToDelete(null);\n  };\n\n\n  const onFirstDataRendered = (params) => {\n    params.api.sizeColumnsToFit();\n  };\n\n  const onGridSizeChanged = (params) => {\n    params.api.sizeColumnsToFit();\n  };\n\n  return (\n    <div className='ag-theme-alpine' style={{ height: 600 }}>\n      <AgGridReact rowData={tableData}\n        onFirstDataRendered={onFirstDataRendered}\n        onGridSizeChanged={onGridSizeChanged}\n        frameworkComponents={{\n          thumbrenderer: ThumbRenderer,\n          deletebutton: DeleteButtonRenderer,\n          linkrenderer: LinkRenderer,\n        }}\n        defaultColDef={{\n          sortable: true,\n          filter: true,\n        }}\n        rowSelection='multiple'\n        enableBrowserTooltips\n      >\n        <AgGridColumn\n          field='imageUrl'\n          minWidth={20}\n          headerName='Thumbnail'\n          checkboxSelection={true}\n          cellRenderer='thumbrenderer'\n        />\n        <AgGridColumn\n          field='name'\n          minWidth={80}\n          tooltipField='name'\n        />\n        <AgGridColumn\n          field='affiliateLink'\n          minWidth={80}\n          cellRenderer='linkrenderer'\n        />\n        <AgGridColumn\n          field='price'\n          valueFormatter={(params) => params.value ? params.value + '€' : '-/-'}\n        />\n        <AgGridColumn\n          field='toolCategory.name'\n        />\n        <AgGridColumn\n          field='creationDate'\n          minWidth={80}\n          headerName='Creation Date'\n          valueFormatter={dateFormatter}\n        />\n        <AgGridColumn\n          field='lastUpdatedDate'\n          minWidth={80}\n          headerName='Last Update'\n          valueFormatter={dateFormatter}\n        />\n        <AgGridColumn\n          width={20}\n          onCellClicked={(params) => {\n            setToolOptionToDelete(params.data);\n          }}\n          cellStyle={{\n            'height': '100%',\n            'display': 'flex ',\n            'justify-content': 'center',\n            'align-items': 'center ',\n          }}\n          cellRenderer='deletebutton'\n        />\n      </AgGridReact>\n      <DeleteDialog\n        open={toolOptionToDelete !== null}\n        handleClose={handleCloseDelete}\n        handleDelete={handleDelete}\n        name={toolOptionToDelete ? toolOptionToDelete.name : ''}\n      />\n    </div>\n  );\n};\n\nexport default ToolOptionTable;\n"]},"metadata":{},"sourceType":"module"}