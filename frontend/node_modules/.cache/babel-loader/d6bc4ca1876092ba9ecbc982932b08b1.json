{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/carinawollendorfer/selfix/frontend/src/components/UserProfileMenu.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport { logout } from '../redux/actions';\nimport { Menu, MenuItem, Avatar, Divider } from '@material-ui/core';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\nimport { setBookmarkedBikes, setBookmarkedTutorials } from '../redux/actions/bookmarkActions';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nconst useStyles = makeStyles(theme => ({\n  menuitem: {\n    display: 'flex',\n    minWidth: '200px'\n  },\n  avatar: {\n    marginRight: theme.spacing(1)\n  },\n  admin: {\n    marginLeft: '8px',\n    marginRight: theme.spacing(1),\n    fontweight: 'bold'\n  }\n}));\n/**\n * Menu for user management\n * @param {props} props\n */\n\nfunction KebabMenu(props) {\n  _s();\n\n  const classes = useStyles();\n\n  const onClickLogin = () => {\n    // close this menu\n    props.onClose(); // navigate to the login page\n\n    props.history.push('/login');\n  };\n\n  const noClickAdminView = () => {\n    // close this menu\n    props.onClose(); // navigate to the admin page\n\n    props.history.push('/admin/bicycles');\n  };\n\n  const onClickLogout = () => {\n    // trigger redux logout action\n    props.dispatch(logout());\n    props.dispatch(setBookmarkedBikes([]));\n    props.dispatch(setBookmarkedTutorials([])); // close this menu\n\n    props.onClose(); // navigate to the home page\n\n    props.history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Menu, {\n    open: props.open,\n    anchorEl: props.anchor,\n    onClose: props.onClose,\n    getContentAnchorEl: null,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'right'\n    },\n    children: props.user ? [/*#__PURE__*/_jsxDEV(MenuItem, {\n      className: classes.menuitem,\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        className: classes.avatar,\n        children: props.user.username ? props.user.username[0] : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), props.user.username]\n    }, \"user\", true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }, this), props.user.role === 'admin' ? [/*#__PURE__*/_jsxDEV(MenuItem, {\n      className: classes.menuitem,\n      onClick: noClickAdminView,\n      children: [/*#__PURE__*/_jsxDEV(PersonIcon, {\n        className: classes.admin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }, this), \"Admin view\"]\n    }, \"admin\", true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)] : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, \"divider\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: onClickLogout,\n      className: classes.menuitem,\n      children: [/*#__PURE__*/_jsxDEV(ExitToAppIcon, {\n        className: classes.avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), \"Logout\"]\n    }, \"logout\", true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }, this)] : [/*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: onClickLogin,\n      className: classes.menuitem,\n      children: [/*#__PURE__*/_jsxDEV(VerifiedUserIcon, {\n        className: classes.avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), \"Login\"]\n    }, \"login\", true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }, this)]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n} // attributes of props and their type\n\n\n_s(KebabMenu, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c = KebabMenu;\nKebabMenu.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  anchor: PropTypes.object,\n  open: PropTypes.bool.isRequired,\n  user: PropTypes.object\n};\nexport default withRouter(connect()(KebabMenu));\n\nvar _c;\n\n$RefreshReg$(_c, \"KebabMenu\");","map":{"version":3,"sources":["/Users/carinawollendorfer/selfix/frontend/src/components/UserProfileMenu.js"],"names":["React","makeStyles","PropTypes","logout","Menu","MenuItem","Avatar","Divider","ExitToAppIcon","VerifiedUserIcon","setBookmarkedBikes","setBookmarkedTutorials","PersonIcon","withRouter","connect","useStyles","theme","menuitem","display","minWidth","avatar","marginRight","spacing","admin","marginLeft","fontweight","KebabMenu","props","classes","onClickLogin","onClose","history","push","noClickAdminView","onClickLogout","dispatch","open","anchor","vertical","horizontal","user","username","role","propTypes","func","isRequired","object","bool"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,0BAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAAQC,MAAR,QAAqB,kBAArB;AACA,SAAQC,IAAR,EAAcC,QAAd,EAAwBC,MAAxB,EAAgCC,OAAhC,QAA8C,mBAA9C;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,SACEC,kBADF,EAEEC,sBAFF,QAGO,kCAHP;AAIA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AAEA,MAAMC,SAAS,GAAGd,UAAU,CAAEe,KAAD,KAAY;AACvCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OAAO,EAAE,MADD;AAERC,IAAAA,QAAQ,EAAE;AAFF,GAD6B;AAKvCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,WAAW,EAAEL,KAAK,CAACM,OAAN,CAAc,CAAd;AADP,GAL+B;AAQvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,UAAU,EAAE,KADP;AAELH,IAAAA,WAAW,EAAEL,KAAK,CAACM,OAAN,CAAc,CAAd,CAFR;AAGLG,IAAAA,UAAU,EAAE;AAHP;AARgC,CAAZ,CAAD,CAA5B;AAcA;AACA;AACA;AACA;;AACA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AACxB,QAAMC,OAAO,GAAGb,SAAS,EAAzB;;AAEA,QAAMc,YAAY,GAAG,MAAM;AACzB;AACAF,IAAAA,KAAK,CAACG,OAAN,GAFyB,CAGzB;;AACAH,IAAAA,KAAK,CAACI,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACD,GALD;;AAOA,QAAMC,gBAAgB,GAAG,MAAM;AAC7B;AACAN,IAAAA,KAAK,CAACG,OAAN,GAF6B,CAG7B;;AACAH,IAAAA,KAAK,CAACI,OAAN,CAAcC,IAAd,CAAmB,iBAAnB;AACD,GALD;;AAOA,QAAME,aAAa,GAAG,MAAM;AAC1B;AACAP,IAAAA,KAAK,CAACQ,QAAN,CAAehC,MAAM,EAArB;AAEAwB,IAAAA,KAAK,CAACQ,QAAN,CAAezB,kBAAkB,CAAC,EAAD,CAAjC;AACAiB,IAAAA,KAAK,CAACQ,QAAN,CAAexB,sBAAsB,CAAC,EAAD,CAArC,EAL0B,CAM1B;;AACAgB,IAAAA,KAAK,CAACG,OAAN,GAP0B,CAQ1B;;AACAH,IAAAA,KAAK,CAACI,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACD,GAVD;;AAYA,sBACE,QAAC,IAAD;AACE,IAAA,IAAI,EAAEL,KAAK,CAACS,IADd;AAEE,IAAA,QAAQ,EAAET,KAAK,CAACU,MAFlB;AAGE,IAAA,OAAO,EAAEV,KAAK,CAACG,OAHjB;AAIE,IAAA,kBAAkB,EAAE,IAJtB;AAKE,IAAA,YAAY,EAAE;AACZQ,MAAAA,QAAQ,EAAE,QADE;AAEZC,MAAAA,UAAU,EAAE;AAFA,KALhB;AAAA,cAUGZ,KAAK,CAACa,IAAN,GAEC,cACE,QAAC,QAAD;AAAqB,MAAA,SAAS,EAAEZ,OAAO,CAACX,QAAxC;AAAA,8BACE,QAAC,MAAD;AAAQ,QAAA,SAAS,EAAEW,OAAO,CAACR,MAA3B;AAAA,kBAAoCO,KAAK,CAACa,IAAN,CAAWC,QAAX,GAChCd,KAAK,CAACa,IAAN,CAAWC,QAAX,CAAoB,CAApB,CADgC,GACP;AAD7B;AAAA;AAAA;AAAA;AAAA,cADF,EAGGd,KAAK,CAACa,IAAN,CAAWC,QAHd;AAAA,OAAc,MAAd;AAAA;AAAA;AAAA;AAAA,YADF,EAMEd,KAAK,CAACa,IAAN,CAAWE,IAAX,KAAoB,OAApB,GAA8B,cAC5B,QAAC,QAAD;AAAsB,MAAA,SAAS,EAAEd,OAAO,CAACX,QAAzC;AAAmD,MAAA,OAAO,EAAEgB,gBAA5D;AAAA,8BACE,QAAC,UAAD;AAAY,QAAA,SAAS,EAAEL,OAAO,CAACL;AAA/B;AAAA;AAAA;AAAA;AAAA,cADF;AAAA,OAAc,OAAd;AAAA;AAAA;AAAA;AAAA,YAD4B,CAA9B,gBAKI;AAAA;AAAA;AAAA;AAAA,YAXN,eAYE,QAAC,OAAD,MAAa,SAAb;AAAA;AAAA;AAAA;AAAA,YAZF,eAaE,QAAC,QAAD;AAAuB,MAAA,OAAO,EAAEW,aAAhC;AAA+C,MAAA,SAAS,EAAEN,OAAO,CAACX,QAAlE;AAAA,8BACE,QAAC,aAAD;AAAe,QAAA,SAAS,EAAEW,OAAO,CAACR;AAAlC;AAAA;AAAA;AAAA;AAAA,cADF;AAAA,OAAc,QAAd;AAAA;AAAA;AAAA;AAAA,YAbF,CAFD,GAoBG,cACA,QAAC,QAAD;AAAsB,MAAA,OAAO,EAAES,YAA/B;AACE,MAAA,SAAS,EAAED,OAAO,CAACX,QADrB;AAAA,8BAEE,QAAC,gBAAD;AAAkB,QAAA,SAAS,EAAEW,OAAO,CAACR;AAArC;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA,OAAc,OAAd;AAAA;AAAA;AAAA;AAAA,YADA;AA9BN;AAAA;AAAA;AAAA;AAAA,UADF;AAwCD,C,CAED;;;GAvESM,S;UACSX,S;;;KADTW,S;AAwETA,SAAS,CAACiB,SAAV,GAAsB;AACpBb,EAAAA,OAAO,EAAE5B,SAAS,CAAC0C,IAAV,CAAeC,UADJ;AAEpBR,EAAAA,MAAM,EAAEnC,SAAS,CAAC4C,MAFE;AAGpBV,EAAAA,IAAI,EAAElC,SAAS,CAAC6C,IAAV,CAAeF,UAHD;AAIpBL,EAAAA,IAAI,EAAEtC,SAAS,CAAC4C;AAJI,CAAtB;AAQA,eAAejC,UAAU,CAACC,OAAO,GAAGY,SAAH,CAAR,CAAzB","sourcesContent":["import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport {logout} from '../redux/actions';\nimport {Menu, MenuItem, Avatar, Divider} from '@material-ui/core';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\nimport {\n  setBookmarkedBikes,\n  setBookmarkedTutorials\n} from '../redux/actions/bookmarkActions';\nimport PersonIcon from '@material-ui/icons/Person';\nimport {withRouter} from 'react-router-dom';\nimport {connect} from 'react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n  menuitem: {\n    display: 'flex',\n    minWidth: '200px',\n  },\n  avatar: {\n    marginRight: theme.spacing(1),\n  },\n  admin: {\n    marginLeft: '8px',\n    marginRight: theme.spacing(1),\n    fontweight: 'bold',\n  }\n}));\n/**\n * Menu for user management\n * @param {props} props\n */\nfunction KebabMenu(props) {\n  const classes = useStyles();\n\n  const onClickLogin = () => {\n    // close this menu\n    props.onClose();\n    // navigate to the login page\n    props.history.push('/login');\n  };\n\n  const noClickAdminView = () => {\n    // close this menu\n    props.onClose();\n    // navigate to the admin page\n    props.history.push('/admin/bicycles');\n  };\n\n  const onClickLogout = () => {\n    // trigger redux logout action\n    props.dispatch(logout());\n\n    props.dispatch(setBookmarkedBikes([]));\n    props.dispatch(setBookmarkedTutorials([]));\n    // close this menu\n    props.onClose();\n    // navigate to the home page\n    props.history.push('/');\n  };\n\n  return (\n    <Menu\n      open={props.open}\n      anchorEl={props.anchor}\n      onClose={props.onClose}\n      getContentAnchorEl={null}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'right',\n      }}\n    >\n      {props.user\n        ? \n        [\n          <MenuItem key=\"user\" className={classes.menuitem}>\n            <Avatar className={classes.avatar}>{props.user.username\n              ? props.user.username[0] : ''}</Avatar>\n            {props.user.username}\n          </MenuItem>,\n          props.user.role === 'admin' ? [\n            <MenuItem key=\"admin\" className={classes.menuitem} onClick={noClickAdminView}>     \n              <PersonIcon className={classes.admin}/>\n              Admin view\n            </MenuItem>,\n          ] : <div/>,\n          <Divider key=\"divider\" />,\n          <MenuItem key=\"logout\" onClick={onClickLogout} className={classes.menuitem}>\n            <ExitToAppIcon className={classes.avatar} />\n            Logout\n          </MenuItem>,\n        ]\n        : [\n          <MenuItem key=\"login\" onClick={onClickLogin}\n            className={classes.menuitem}>\n            <VerifiedUserIcon className={classes.avatar}/>\n            Login\n          </MenuItem>,\n        ]}\n    </Menu>\n  );\n}\n\n// attributes of props and their type\nKebabMenu.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  anchor: PropTypes.object,\n  open: PropTypes.bool.isRequired,\n  user: PropTypes.object\n};\n\n\nexport default withRouter(connect()(KebabMenu));\n"]},"metadata":{},"sourceType":"module"}