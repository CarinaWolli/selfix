{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/carinawollendorfer/selfix/frontend/src/components/cms/TutorialTable.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport { withRouter } from 'react-router-dom';\nimport TutorialService from '../../services/TutorialService';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport moment from 'moment';\nimport { Dialog, DialogTitle, DialogActions, Button } from '@material-ui/core';\nimport { Edit, Delete } from '@material-ui/icons';\nimport Zoom from 'react-medium-image-zoom';\nimport 'react-medium-image-zoom/dist/styles.css';\n\nconst ThumbRenderer = params => {\n  return /*#__PURE__*/_jsxDEV(Zoom, {\n    wrapStyle: {\n      display: 'block'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      loading: \"lazy\",\n      src: params.value,\n      alt: \"Thumbnail\",\n      style: {\n        display: 'block',\n        width: 35,\n        height: 'auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 49\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 11\n  }, this);\n};\n\n_c = ThumbRenderer;\n\nconst EditButtonRenderer = () => {\n  return /*#__PURE__*/_jsxDEV(Edit, {\n    fontSize: \"small\",\n    style: {\n      display: 'block',\n      margin: 'auto'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 10\n  }, this);\n};\n\n_c2 = EditButtonRenderer;\n\nconst DeleteButtonRenderer = () => {\n  return /*#__PURE__*/_jsxDEV(Delete, {\n    fontSize: \"small\",\n    style: {\n      display: 'block',\n      margin: 'auto'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 10\n  }, this);\n};\n\n_c3 = DeleteButtonRenderer;\n\nconst dateFormatter = params => {\n  const date = params.value;\n  let momentDate = moment(date);\n  return momentDate.toString();\n};\n\nconst DeleteDialog = props => {\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: props.open,\n    onClose: props.handleClose,\n    \"aria-labelledby\": \"alert-dialog-title\",\n    \"aria-describedby\": \"alert-dialog-description\",\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      id: \"alert-dialog-title\",\n      children: [\"Do you want to delete \", '\"', props.tutorial ? props.tutorial.name : '', '\"', \"?\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: props.handleClose,\n        color: \"secondary\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: props.handleDelete,\n        color: \"primary\",\n        autoFocus: true,\n        children: \"Confirm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_c4 = DeleteDialog;\n\nconst TutorialTable = props => {\n  _s();\n\n  const [open, setOpen] = React.useState(false);\n  const [tutorialToDelete, setTutorialToDelete] = React.useState(null);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setTutorialToDelete(null);\n  };\n\n  const handleDelete = () => {\n    TutorialService.deleteTutorial(tutorialToDelete._id);\n    setTableData(tableData.filter(value => value._id !== tutorialToDelete._id));\n    setOpen(false);\n    setTutorialToDelete(null);\n  };\n\n  const [tableData, setTableData] = React.useState([]);\n  React.useEffect(async () => {\n    try {\n      const result = await TutorialService.getTutorials();\n      setTableData(result);\n    } catch (e) {\n      console.log(e);\n    }\n  }, []);\n\n  const onFirstDataRendered = params => {\n    params.api.sizeColumnsToFit();\n  };\n\n  const onGridSizeChanged = params => {\n    params.api.sizeColumnsToFit();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ag-theme-alpine\",\n    style: {\n      height: 600\n    },\n    children: [/*#__PURE__*/_jsxDEV(AgGridReact, {\n      rowData: tableData,\n      onFirstDataRendered: onFirstDataRendered,\n      onGridSizeChanged: onGridSizeChanged,\n      frameworkComponents: {\n        thumbrenderer: ThumbRenderer,\n        editbutton: EditButtonRenderer,\n        deletebutton: DeleteButtonRenderer\n      },\n      defaultColDef: {\n        sortable: true,\n        filter: true\n      },\n      rowSelection: \"multiple\",\n      children: [/*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"imageUrl\",\n        minWidth: 20,\n        headerName: \"Thumbnail\",\n        cellRenderer: \"thumbrenderer\",\n        checkboxSelection: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"name\",\n        minWidth: 80,\n        onCellClicked: params => {\n          props.history.push('/tutorial/' + params.data._id);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"description\",\n        minWidth: 80,\n        maxWidth: 400\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"textSteps.length\",\n        headerName: \"Text Steps\",\n        minWidth: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"videoSteps.length\",\n        headerName: \"Video Steps\",\n        minWidth: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"creationDate\",\n        minWidth: 80,\n        headerName: \"Creation Date\",\n        valueFormatter: dateFormatter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"lastUpdatedDate\",\n        minWidth: 80,\n        headerName: \"Last Update\",\n        valueFormatter: dateFormatter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        width: 20,\n        cellRenderer: \"editbutton\",\n        onCellClicked: params => props.history.push('/admin/tutorialcreation/' + params.data._id),\n        cellStyle: {\n          'height': '100%',\n          'display': 'flex ',\n          'justify-content': 'center',\n          'align-items': 'center '\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        width: 20,\n        cellRenderer: \"deletebutton\",\n        cellStyle: {\n          'height': '100%',\n          'display': 'flex ',\n          'justify-content': 'center',\n          'align-items': 'center '\n        },\n        onCellClicked: params => {\n          setTutorialToDelete(params.data);\n          handleClickOpen();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteDialog, {\n      open: open,\n      handleClose: handleClose,\n      handleDelete: handleDelete,\n      tutorial: tutorialToDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TutorialTable, \"LW1sMi973cJr01E89gSuvqtKtAA=\");\n\n_c5 = TutorialTable;\nexport default _c6 = withRouter(TutorialTable);\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"ThumbRenderer\");\n$RefreshReg$(_c2, \"EditButtonRenderer\");\n$RefreshReg$(_c3, \"DeleteButtonRenderer\");\n$RefreshReg$(_c4, \"DeleteDialog\");\n$RefreshReg$(_c5, \"TutorialTable\");\n$RefreshReg$(_c6, \"%default%\");","map":{"version":3,"sources":["/Users/carinawollendorfer/selfix/frontend/src/components/cms/TutorialTable.js"],"names":["React","AgGridColumn","AgGridReact","withRouter","TutorialService","moment","Dialog","DialogTitle","DialogActions","Button","Edit","Delete","Zoom","ThumbRenderer","params","display","value","width","height","EditButtonRenderer","margin","DeleteButtonRenderer","dateFormatter","date","momentDate","toString","DeleteDialog","props","open","handleClose","tutorial","name","handleDelete","TutorialTable","setOpen","useState","tutorialToDelete","setTutorialToDelete","handleClickOpen","deleteTutorial","_id","setTableData","tableData","filter","useEffect","result","getTutorials","e","console","log","onFirstDataRendered","api","sizeColumnsToFit","onGridSizeChanged","thumbrenderer","editbutton","deletebutton","sortable","history","push","data"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,eAA1C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AAEA,OAAO,2CAAP;AACA,OAAO,mDAAP;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,MAAT,EAAiBC,WAAjB,EAA8BC,aAA9B,EAA6CC,MAA7C,QAA2D,mBAA3D;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,oBAA7B;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAO,yCAAP;;AAEA,MAAMC,aAAa,GAAIC,MAAD,IAAY;AAChC,sBAAQ,QAAC,IAAD;AAAM,IAAA,SAAS,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAjB;AAAA,2BAAsC;AAAK,MAAA,OAAO,EAAC,MAAb;AAAoB,MAAA,GAAG,EAAED,MAAM,CAACE,KAAhC;AAAuC,MAAA,GAAG,EAAC,WAA3C;AAAuD,MAAA,KAAK,EAAE;AAACD,QAAAA,OAAO,EAAE,OAAV;AAAmBE,QAAAA,KAAK,EAAE,EAA1B;AAA8BC,QAAAA,MAAM,EAAE;AAAtC;AAA9D;AAAA;AAAA;AAAA;AAAA;AAAtC;AAAA;AAAA;AAAA;AAAA,UAAR;AACD,CAFD;;KAAML,a;;AAIN,MAAMM,kBAAkB,GAAG,MAAM;AAC/B,sBAAO,QAAC,IAAD;AAAM,IAAA,QAAQ,EAAC,OAAf;AAAuB,IAAA,KAAK,EAAE;AAACJ,MAAAA,OAAO,EAAE,OAAV;AAAmBK,MAAAA,MAAM,EAAE;AAA3B;AAA9B;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAFD;;MAAMD,kB;;AAIN,MAAME,oBAAoB,GAAG,MAAM;AACjC,sBAAO,QAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,OAAjB;AAAyB,IAAA,KAAK,EAAE;AAACN,MAAAA,OAAO,EAAE,OAAV;AAAmBK,MAAAA,MAAM,EAAE;AAA3B;AAAhC;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAFD;;MAAMC,oB;;AAIN,MAAMC,aAAa,GAAIR,MAAD,IAAY;AAChC,QAAMS,IAAI,GAAGT,MAAM,CAACE,KAApB;AACA,MAAIQ,UAAU,GAAGnB,MAAM,CAACkB,IAAD,CAAvB;AACA,SAAOC,UAAU,CAACC,QAAX,EAAP;AACD,CAJD;;AAMA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAE9B,sBACE,QAAC,MAAD;AACE,IAAA,IAAI,EAAEA,KAAK,CAACC,IADd;AAEE,IAAA,OAAO,EAAED,KAAK,CAACE,WAFjB;AAGE,uBAAgB,oBAHlB;AAIE,wBAAiB,0BAJnB;AAAA,4BAME,QAAC,WAAD;AAAa,MAAA,EAAE,EAAC,oBAAhB;AAAA,2CAA4D,GAA5D,EAAiEF,KAAK,CAACG,QAAN,GAAiBH,KAAK,CAACG,QAAN,CAAeC,IAAhC,GAAuC,EAAxG,EAA4G,GAA5G;AAAA;AAAA;AAAA;AAAA;AAAA,YANF,eAOE,QAAC,aAAD;AAAA,8BACE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAEJ,KAAK,CAACE,WAAvB;AAAoC,QAAA,KAAK,EAAC,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAEF,KAAK,CAACK,YAAvB;AAAqC,QAAA,KAAK,EAAC,SAA3C;AAAqD,QAAA,SAAS,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkBD,CApBD;;MAAMN,Y;;AAsBN,MAAMO,aAAa,GAAIN,KAAD,IAAW;AAAA;;AAE/B,QAAM,CAACC,IAAD,EAAOM,OAAP,IAAkBlC,KAAK,CAACmC,QAAN,CAAe,KAAf,CAAxB;AAEA,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CrC,KAAK,CAACmC,QAAN,CAAe,IAAf,CAAhD;;AAEA,QAAMG,eAAe,GAAG,MAAM;AAC5BJ,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAIA,QAAML,WAAW,GAAG,MAAM;AACxBK,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAG,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD,GAHD;;AAKA,QAAML,YAAY,GAAG,MAAM;AACzB5B,IAAAA,eAAe,CAACmC,cAAhB,CAA+BH,gBAAgB,CAACI,GAAhD;AACAC,IAAAA,YAAY,CAACC,SAAS,CAACC,MAAV,CAAkB3B,KAAD,IAAWA,KAAK,CAACwB,GAAN,KAAcJ,gBAAgB,CAACI,GAA3D,CAAD,CAAZ;AACAN,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAG,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD,GALD;;AAOA,QAAM,CAACK,SAAD,EAAWD,YAAX,IAA2BzC,KAAK,CAACmC,QAAN,CAAe,EAAf,CAAjC;AAEAnC,EAAAA,KAAK,CAAC4C,SAAN,CAAgB,YAAY;AAC1B,QAAG;AACD,YAAMC,MAAM,GAAG,MAAMzC,eAAe,CAAC0C,YAAhB,EAArB;AACAL,MAAAA,YAAY,CAACI,MAAD,CAAZ;AACD,KAHD,CAGC,OAAME,CAAN,EAAS;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD;AACF,GAPD,EAOE,EAPF;;AASA,QAAMG,mBAAmB,GAAIpC,MAAD,IAAY;AACtCA,IAAAA,MAAM,CAACqC,GAAP,CAAWC,gBAAX;AACD,GAFD;;AAIA,QAAMC,iBAAiB,GAAIvC,MAAD,IAAY;AACpCA,IAAAA,MAAM,CAACqC,GAAP,CAAWC,gBAAX;AACD,GAFD;;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAiC,IAAA,KAAK,EAAE;AAAElC,MAAAA,MAAM,EAAE;AAAV,KAAxC;AAAA,4BACE,QAAC,WAAD;AAAa,MAAA,OAAO,EAAEwB,SAAtB;AACE,MAAA,mBAAmB,EAAEQ,mBADvB;AAEE,MAAA,iBAAiB,EAAEG,iBAFrB;AAGE,MAAA,mBAAmB,EAAE;AACnBC,QAAAA,aAAa,EAAEzC,aADI;AAEnB0C,QAAAA,UAAU,EAAEpC,kBAFO;AAGnBqC,QAAAA,YAAY,EAAEnC;AAHK,OAHvB;AAQE,MAAA,aAAa,EAAE;AACboC,QAAAA,QAAQ,EAAE,IADG;AAEbd,QAAAA,MAAM,EAAE;AAFK,OARjB;AAYE,MAAA,YAAY,EAAC,UAZf;AAAA,8BAcE,QAAC,YAAD;AACE,QAAA,KAAK,EAAC,UADR;AAEE,QAAA,QAAQ,EAAE,EAFZ;AAGE,QAAA,UAAU,EAAC,WAHb;AAIE,QAAA,YAAY,EAAC,eAJf;AAKE,QAAA,iBAAiB,EAAE;AALrB;AAAA;AAAA;AAAA;AAAA,cAdF,eAqBE,QAAC,YAAD;AACE,QAAA,KAAK,EAAC,MADR;AAEE,QAAA,QAAQ,EAAE,EAFZ;AAGE,QAAA,aAAa,EAAG7B,MAAD,IAAY;AACzBa,UAAAA,KAAK,CAAC+B,OAAN,CAAcC,IAAd,CAAmB,eAAe7C,MAAM,CAAC8C,IAAP,CAAYpB,GAA9C;AACD;AALH;AAAA;AAAA;AAAA;AAAA,cArBF,eA4BE,QAAC,YAAD;AACE,QAAA,KAAK,EAAC,aADR;AAEE,QAAA,QAAQ,EAAE,EAFZ;AAGE,QAAA,QAAQ,EAAE;AAHZ;AAAA;AAAA;AAAA;AAAA,cA5BF,eAiCE,QAAC,YAAD;AACE,QAAA,KAAK,EAAC,kBADR;AAEE,QAAA,UAAU,EAAC,YAFb;AAGE,QAAA,QAAQ,EAAE;AAHZ;AAAA;AAAA;AAAA;AAAA,cAjCF,eAsCE,QAAC,YAAD;AACE,QAAA,KAAK,EAAC,mBADR;AAEE,QAAA,UAAU,EAAC,aAFb;AAGE,QAAA,QAAQ,EAAE;AAHZ;AAAA;AAAA;AAAA;AAAA,cAtCF,eA2CE,QAAC,YAAD;AACE,QAAA,KAAK,EAAC,cADR;AAEE,QAAA,QAAQ,EAAE,EAFZ;AAGE,QAAA,UAAU,EAAC,eAHb;AAIE,QAAA,cAAc,EAAElB;AAJlB;AAAA;AAAA;AAAA;AAAA,cA3CF,eAiDE,QAAC,YAAD;AACE,QAAA,KAAK,EAAC,iBADR;AAEE,QAAA,QAAQ,EAAE,EAFZ;AAGE,QAAA,UAAU,EAAC,aAHb;AAIE,QAAA,cAAc,EAAEA;AAJlB;AAAA;AAAA;AAAA;AAAA,cAjDF,eAuDE,QAAC,YAAD;AACE,QAAA,KAAK,EAAE,EADT;AAEE,QAAA,YAAY,EAAC,YAFf;AAGE,QAAA,aAAa,EAAGR,MAAD,IAAWa,KAAK,CAAC+B,OAAN,CAAcC,IAAd,CAAmB,6BAA6B7C,MAAM,CAAC8C,IAAP,CAAYpB,GAA5D,CAH5B;AAIE,QAAA,SAAS,EAAE;AACT,oBAAU,MADD;AAET,qBAAW,OAFF;AAGT,6BAAmB,QAHV;AAIT,yBAAe;AAJN;AAJb;AAAA;AAAA;AAAA;AAAA,cAvDF,eAkEE,QAAC,YAAD;AACE,QAAA,KAAK,EAAE,EADT;AAEE,QAAA,YAAY,EAAC,cAFf;AAGE,QAAA,SAAS,EAAE;AACT,oBAAU,MADD;AAET,qBAAW,OAFF;AAGT,6BAAmB,QAHV;AAIT,yBAAe;AAJN,SAHb;AASE,QAAA,aAAa,EAAG1B,MAAD,IAAY;AACzBuB,UAAAA,mBAAmB,CAACvB,MAAM,CAAC8C,IAAR,CAAnB;AACAtB,UAAAA,eAAe;AAChB;AAZH;AAAA;AAAA;AAAA;AAAA,cAlEF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAkFE,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEV,IAApB;AAA0B,MAAA,WAAW,EAAEC,WAAvC;AAAoD,MAAA,YAAY,EAAEG,YAAlE;AAAgF,MAAA,QAAQ,EAAEI;AAA1F;AAAA;AAAA;AAAA;AAAA,YAlFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAsFD,CA/HD;;GAAMH,a;;MAAAA,a;AAiIN,qBAAe9B,UAAU,CAAC8B,aAAD,CAAzB","sourcesContent":["import React from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport { withRouter } from 'react-router-dom';\nimport TutorialService from '../../services/TutorialService';\n\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport moment from 'moment';\nimport { Dialog, DialogTitle, DialogActions, Button } from '@material-ui/core';\nimport { Edit ,Delete } from '@material-ui/icons';\nimport Zoom from 'react-medium-image-zoom';\nimport 'react-medium-image-zoom/dist/styles.css';\n\nconst ThumbRenderer = (params) => {\n  return (<Zoom wrapStyle={{ display: 'block'}}><img loading='lazy' src={params.value} alt='Thumbnail' style={{display: 'block', width: 35, height: 'auto' }} /></Zoom>);\n};\n\nconst EditButtonRenderer = () => {\n  return <Edit fontSize='small' style={{display: 'block', margin: 'auto'}}/>;\n};\n\nconst DeleteButtonRenderer = () => {\n  return <Delete fontSize='small' style={{display: 'block', margin: 'auto'}}/>;\n};\n\nconst dateFormatter = (params) => {\n  const date = params.value;\n  let momentDate = moment(date);\n  return momentDate.toString();\n};\n\nconst DeleteDialog = (props) => {\n\n  return (\n    <Dialog\n      open={props.open}\n      onClose={props.handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id='alert-dialog-title'>Do you want to delete {'\"'}{props.tutorial ? props.tutorial.name : ''}{'\"'}?</DialogTitle>\n      <DialogActions>\n        <Button onClick={props.handleClose} color='secondary'>\n          Cancel\n        </Button>\n        <Button onClick={props.handleDelete} color='primary' autoFocus>\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst TutorialTable = (props) => {\n\n  const [open, setOpen] = React.useState(false);\n\n  const [tutorialToDelete, setTutorialToDelete] = React.useState(null);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setTutorialToDelete(null);\n  };\n\n  const handleDelete = () => {\n    TutorialService.deleteTutorial(tutorialToDelete._id);\n    setTableData(tableData.filter((value) => value._id !== tutorialToDelete._id));\n    setOpen(false);\n    setTutorialToDelete(null);\n  };\n\n  const [tableData,setTableData] = React.useState([]);\n\n  React.useEffect(async () => {\n    try{\n      const result = await TutorialService.getTutorials();\n      setTableData(result);\n    }catch(e) {\n      console.log(e);\n    }\n  },[]);\n\n  const onFirstDataRendered = (params) => {\n    params.api.sizeColumnsToFit();\n  };\n\n  const onGridSizeChanged = (params) => {\n    params.api.sizeColumnsToFit();\n  };\n\n  return (\n    <div className='ag-theme-alpine' style={{ height: 600 }}>\n      <AgGridReact rowData={tableData}\n        onFirstDataRendered={onFirstDataRendered}\n        onGridSizeChanged={onGridSizeChanged}\n        frameworkComponents={{\n          thumbrenderer: ThumbRenderer,\n          editbutton: EditButtonRenderer,\n          deletebutton: DeleteButtonRenderer,\n        }}\n        defaultColDef={{\n          sortable: true,\n          filter: true,\n        }}\n        rowSelection='multiple'\n      >\n        <AgGridColumn\n          field='imageUrl'\n          minWidth={20}\n          headerName='Thumbnail'\n          cellRenderer='thumbrenderer'\n          checkboxSelection={true}\n        />\n        <AgGridColumn\n          field='name'\n          minWidth={80}\n          onCellClicked={(params) => {\n            props.history.push('/tutorial/' + params.data._id);\n          }}\n        />\n        <AgGridColumn\n          field='description'\n          minWidth={80}\n          maxWidth={400}\n        />\n        <AgGridColumn\n          field='textSteps.length'\n          headerName='Text Steps'\n          minWidth={20}\n        />\n        <AgGridColumn\n          field='videoSteps.length'\n          headerName='Video Steps'\n          minWidth={20}\n        />\n        <AgGridColumn\n          field='creationDate'\n          minWidth={80}\n          headerName='Creation Date'\n          valueFormatter={dateFormatter}\n        />\n        <AgGridColumn\n          field='lastUpdatedDate'\n          minWidth={80}\n          headerName='Last Update'\n          valueFormatter={dateFormatter}\n        />\n        <AgGridColumn\n          width={20}\n          cellRenderer='editbutton'\n          onCellClicked={(params)=> props.history.push('/admin/tutorialcreation/' + params.data._id)}\n          cellStyle={{\n            'height': '100%',\n            'display': 'flex ',\n            'justify-content': 'center',\n            'align-items': 'center ',\n          }}\n        />\n        <AgGridColumn\n          width={20}\n          cellRenderer='deletebutton'\n          cellStyle={{\n            'height': '100%',\n            'display': 'flex ',\n            'justify-content': 'center',\n            'align-items': 'center ',\n          }}\n          onCellClicked={(params) => {\n            setTutorialToDelete(params.data);\n            handleClickOpen();\n          }}\n        />\n      </AgGridReact>\n      <DeleteDialog open={open} handleClose={handleClose} handleDelete={handleDelete} tutorial={tutorialToDelete}/>\n    </div>\n  );\n};\n\nexport default withRouter(TutorialTable);\n"]},"metadata":{},"sourceType":"module"}