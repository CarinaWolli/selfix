{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/carinawollendorfer/selfix/frontend/src/views/BikeResult.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Container, Typography } from '@material-ui/core';\nimport BikeService from '../services/BikeService';\nimport BikeResultTutorialPopover from '../components/BikeResultTutorialPopover';\nimport Breadcrumbs from '../components/BreadcrumbComponent';\nimport Loading from '../components/Loading';\nimport BookmarkButton from '../components/BookmarkButton';\nimport BookmarkService from '../services/BookmarkService';\nimport { setBookmarkedBikes } from '../redux/actions/bookmarkActions';\nimport BikeIconImages from '../services/BikeIconImages';\nconst useStyles = makeStyles(() => ({\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: '100%'\n  },\n  bikeContainer: {\n    width: '100%',\n    position: 'relative'\n  },\n  bikeImage: {\n    width: '100%',\n    height: 'auto'\n  },\n  buttonSaddle: {\n    position: 'absolute',\n    left: '25%',\n    top: '12%'\n  },\n  buttonBackWheel: {\n    position: 'absolute',\n    left: '5%',\n    top: '60%'\n  },\n  buttonFrontWheel: {\n    position: 'absolute',\n    left: '80%',\n    top: '50%'\n  },\n  buttonDrivetrain: {\n    position: 'absolute',\n    left: '25%',\n    top: '60%'\n  },\n  buttonPedals: {\n    position: 'absolute',\n    left: '45%',\n    top: '65%'\n  },\n  buttonFrame: {\n    position: 'absolute',\n    left: '40%',\n    top: '40%'\n  },\n  buttonCockpit: {\n    position: 'absolute',\n    left: '65%',\n    top: '15%'\n  },\n  titleContainer: {\n    width: '100%',\n    height: 80\n  },\n  title: {\n    float: 'left',\n    height: '80px',\n    display: 'flex'\n  },\n  titleText: {\n    margin: 'auto',\n    fontSize: '2em'\n  },\n  bookmark: {\n    float: 'right',\n    margin: 'auto'\n  }\n}));\n/**\n * Displays bike result page\n * @param {props} props\n */\n\nfunction BikeResult(props) {\n  _s();\n\n  const classes = useStyles();\n  const {\n    id\n  } = props.match.params;\n  const [bike, setBike] = React.useState(null);\n  const user = useSelector(state => state.user.user);\n  const bookmarksRedux = useSelector(state => state.bookmarks.bookmarkedBikes);\n  React.useEffect(async () => {\n    try {\n      const bikeObj = await BikeService.getBike(id);\n      setBike(bikeObj);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [props.match.params.id]);\n  return !bike ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumbs, {\n      links: [{\n        name: bike.bikeType.title,\n        href: '/categorySearch/' + bike.bikeType._id + '/0'\n      }, {\n        name: bike.brand.name,\n        href: '/categorySearch/' + bike.bikeType._id + '/' + bike.brand._id\n      }, {\n        name: bike ? bike.name : '',\n        href: '/bike/' + id\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.titleContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.title,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          className: classes.titleText,\n          children: bike.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.bookmark,\n        children: /*#__PURE__*/_jsxDEV(BookmarkButton, {\n          bookmarked: bookmarksRedux.includes(bike._id),\n          size: 40,\n          bookmarkFunc: () => {\n            if (!user) {\n              return;\n            }\n\n            try {\n              if (!bookmarksRedux.includes(bike._id)) {\n                BookmarkService.bookmarkBike(bike._id);\n                const bookmarkCopy = [...bookmarksRedux];\n                bookmarkCopy.push(bike._id);\n                props.dispatch(setBookmarkedBikes(bookmarkCopy));\n              } else {\n                BookmarkService.removeBookmarkBike(bike._id);\n                props.dispatch(setBookmarkedBikes([...bookmarksRedux].filter(id => id !== bike._id)));\n              }\n            } catch (err) {\n              console.log(err);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      pb: 2,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: \"Select an area to see tutorials!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.bikeContainer,\n        children: [BikeIconImages.filter(i => i.type === bike.bikeType.title).map(({\n          imageId,\n          src,\n          type\n        }) => /*#__PURE__*/_jsxDEV(\"img\", {\n          src: src,\n          title: type,\n          className: classes.bikeImage\n        }, imageId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(BikeResultTutorialPopover, {\n          className: classes.buttonSaddle,\n          name: \"Saddle\",\n          bikeComponents: bike.components.filter(comp => comp.componentPart === 'Saddle')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BikeResultTutorialPopover, {\n          className: classes.buttonBackWheel,\n          name: \"Back Wheel\",\n          bikeComponents: bike.components.filter(comp => comp.componentPart === 'BackWheel')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BikeResultTutorialPopover, {\n          className: classes.buttonFrontWheel,\n          name: \"Front Wheel\",\n          bikeComponents: bike.components.filter(comp => comp.componentPart === 'FrontWheel')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BikeResultTutorialPopover, {\n          className: classes.buttonDrivetrain,\n          name: \"Drivetrain\",\n          bikeComponents: bike.components.filter(comp => comp.componentPart === 'Drivetrain')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BikeResultTutorialPopover, {\n          className: classes.buttonPedals,\n          name: \"Pedals\",\n          bikeComponents: bike.components.filter(comp => comp.componentPart === 'Pedals')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BikeResultTutorialPopover, {\n          className: classes.buttonFrame,\n          name: \"Frame\",\n          bikeComponents: bike.components.filter(comp => comp.componentPart === 'Frame')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BikeResultTutorialPopover, {\n          className: classes.buttonCockpit,\n          name: \"Cockpit\",\n          bikeComponents: bike.components.filter(comp => comp.componentPart === 'Cockpit')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n} // connect() establishes the connection to the redux functionalities\n\n\n_s(BikeResult, \"d59eyWDbxfDeYmwDsP/dJNaGmLU=\", false, function () {\n  return [useStyles, useSelector, useSelector];\n});\n\n_c = BikeResult;\nexport default connect()(BikeResult);\n\nvar _c;\n\n$RefreshReg$(_c, \"BikeResult\");","map":{"version":3,"sources":["/Users/carinawollendorfer/selfix/frontend/src/views/BikeResult.js"],"names":["React","connect","useSelector","makeStyles","Box","Container","Typography","BikeService","BikeResultTutorialPopover","Breadcrumbs","Loading","BookmarkButton","BookmarkService","setBookmarkedBikes","BikeIconImages","useStyles","container","flex","display","flexDirection","alignItems","width","bikeContainer","position","bikeImage","height","buttonSaddle","left","top","buttonBackWheel","buttonFrontWheel","buttonDrivetrain","buttonPedals","buttonFrame","buttonCockpit","titleContainer","title","float","titleText","margin","fontSize","bookmark","BikeResult","props","classes","id","match","params","bike","setBike","useState","user","state","bookmarksRedux","bookmarks","bookmarkedBikes","useEffect","bikeObj","getBike","e","console","log","name","bikeType","href","_id","brand","includes","bookmarkBike","bookmarkCopy","push","dispatch","removeBookmarkBike","filter","err","i","type","map","imageId","src","components","comp","componentPart"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Container, Typography } from '@material-ui/core';\nimport BikeService from '../services/BikeService';\nimport BikeResultTutorialPopover from '../components/BikeResultTutorialPopover';\nimport Breadcrumbs from '../components/BreadcrumbComponent';\nimport Loading from '../components/Loading';\nimport BookmarkButton from '../components/BookmarkButton';\nimport BookmarkService from '../services/BookmarkService';\nimport { setBookmarkedBikes } from '../redux/actions/bookmarkActions';\nimport BikeIconImages from '../services/BikeIconImages';\n\nconst useStyles = makeStyles(() => ({\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: '100%',\n  },\n  bikeContainer: {\n    width: '100%',\n    position: 'relative',\n  },\n  bikeImage: {\n    width: '100%',\n    height: 'auto',\n  },\n  buttonSaddle: {\n    position: 'absolute',\n    left: '25%',\n    top: '12%',\n  },\n  buttonBackWheel: {\n    position: 'absolute',\n    left: '5%',\n    top: '60%',\n  },\n  buttonFrontWheel: {\n    position: 'absolute',\n    left: '80%',\n    top: '50%',\n  },\n  buttonDrivetrain: {\n    position: 'absolute',\n    left: '25%',\n    top: '60%',\n  },\n  buttonPedals: {\n    position: 'absolute',\n    left: '45%',\n    top: '65%',\n  },\n  buttonFrame: {\n    position: 'absolute',\n    left: '40%',\n    top: '40%',\n  },\n  buttonCockpit: {\n    position: 'absolute',\n    left: '65%',\n    top: '15%',\n  },\n  titleContainer: {\n    width: '100%',\n    height: 80,\n  },\n  title: {\n    float: 'left',\n    height: '80px',\n    display: 'flex',\n  },\n  titleText: {\n    margin: 'auto',\n    fontSize: '2em',\n  },\n  bookmark: {\n    float: 'right',\n    margin: 'auto',\n  },\n}));\n\n/**\n * Displays bike result page\n * @param {props} props\n */\nfunction BikeResult(props) {\n  const classes = useStyles();\n  const { id } = props.match.params;\n\n  const [bike, setBike] = React.useState(null);\n\n  const user = useSelector((state) => state.user.user);\n  const bookmarksRedux = useSelector((state) => state.bookmarks.bookmarkedBikes);\n\n  React.useEffect(async () => {\n    try {\n      const bikeObj = await BikeService.getBike(id);\n      setBike(bikeObj);\n    } catch(e) {\n      console.log(e);\n    }\n  }, [props.match.params.id]);\n\n  return !bike ? (\n    <Loading />\n  ) : (\n    <Container>\n      <Breadcrumbs\n        links={[\n          {\n            name: bike.bikeType.title,\n            href: '/categorySearch/' + bike.bikeType._id + '/0',\n          },\n          {\n            name: bike.brand.name,\n            href: '/categorySearch/' + bike.bikeType._id + '/' + bike.brand._id,\n          },\n          { name: bike ? bike.name : '', href: '/bike/' + id },\n        ]}\n      />\n      <div className={classes.titleContainer}>\n        <div className={classes.title}>\n          <Typography className={classes.titleText}>{bike.name}</Typography>\n        </div>\n        <div className={classes.bookmark}>\n          <BookmarkButton\n            bookmarked={bookmarksRedux.includes(bike._id)}\n            size={40}\n            bookmarkFunc={() => {\n              if (!user) {\n                return;\n              }\n              try {\n                if (!bookmarksRedux.includes(bike._id)) {\n                  BookmarkService.bookmarkBike(bike._id);\n                  const bookmarkCopy = [...bookmarksRedux];\n                  bookmarkCopy.push(bike._id);\n                  props.dispatch(setBookmarkedBikes(bookmarkCopy));\n                } else {\n                  BookmarkService.removeBookmarkBike(bike._id);\n                  props.dispatch(setBookmarkedBikes([...bookmarksRedux].filter((id) => id !== bike._id)));\n                }\n              } catch (err) {\n                console.log(err);\n              }\n            }}\n          />\n        </div>\n      </div>\n      <Box pb={2}>\n        <Typography variant=\"body1\">Select an area to see tutorials!</Typography>\n      </Box>\n      <div className={classes.container}>\n        <div className={classes.bikeContainer}>\n          {BikeIconImages.filter(i => i.type === bike.bikeType.title).map(({imageId, src, type}) =>\n            <img key={imageId} src={src} title={type} className={classes.bikeImage}/>)}\n          <BikeResultTutorialPopover className={classes.buttonSaddle} name=\"Saddle\" bikeComponents={bike.components.filter(comp => comp.componentPart === 'Saddle')}/>\n          <BikeResultTutorialPopover className={classes.buttonBackWheel} name=\"Back Wheel\" bikeComponents={bike.components.filter(comp => comp.componentPart === 'BackWheel')}/>\n          <BikeResultTutorialPopover className={classes.buttonFrontWheel} name=\"Front Wheel\" bikeComponents={bike.components.filter(comp => comp.componentPart === 'FrontWheel')}/>\n          <BikeResultTutorialPopover className={classes.buttonDrivetrain} name=\"Drivetrain\" bikeComponents={bike.components.filter(comp => comp.componentPart === 'Drivetrain')}/>\n          <BikeResultTutorialPopover className={classes.buttonPedals} name=\"Pedals\" bikeComponents={bike.components.filter(comp => comp.componentPart === 'Pedals')}/>\n          <BikeResultTutorialPopover className={classes.buttonFrame} name=\"Frame\" bikeComponents={bike.components.filter(comp => comp.componentPart === 'Frame')}/>\n          <BikeResultTutorialPopover className={classes.buttonCockpit} name=\"Cockpit\" bikeComponents={bike.components.filter(comp => comp.componentPart === 'Cockpit')}/>\n\n        </div>\n      </div>\n    </Container>\n  );\n}\n\n// connect() establishes the connection to the redux functionalities\nexport default connect()(BikeResult);\n"]},"metadata":{},"sourceType":"module"}