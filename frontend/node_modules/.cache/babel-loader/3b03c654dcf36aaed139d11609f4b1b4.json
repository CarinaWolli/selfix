{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/carinawollendorfer/selfix/frontend/src/components/cms/BikeTable.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport { withRouter } from 'react-router-dom';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport moment from 'moment';\nimport { Edit, Delete } from '@material-ui/icons';\nimport BikeService from '../../services/BikeService';\nimport BikeBrandService from '../../services/BikeBrandService';\nimport BikeTypeService from '../../services/BikeTypeService';\nimport { Dialog, DialogActions, DialogTitle, Button, DialogContent, TextField, Select, MenuItem, FormControl, InputLabel } from '@material-ui/core';\nimport Zoom from 'react-medium-image-zoom';\nimport 'react-medium-image-zoom/dist/styles.css';\n\nconst ThumbRenderer = params => {\n  return /*#__PURE__*/_jsxDEV(Zoom, {\n    wrapStyle: {\n      display: 'block'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      loading: \"lazy\",\n      src: params.value,\n      alt: \"Thumbnail\",\n      style: {\n        display: 'block',\n        width: 35,\n        height: 'auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n\n_c = ThumbRenderer;\n\nconst EditButtonRenderer = () => {\n  return /*#__PURE__*/_jsxDEV(Edit, {\n    fontSize: \"small\",\n    style: {\n      display: 'block',\n      margin: 'auto'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 10\n  }, this);\n};\n\n_c2 = EditButtonRenderer;\n\nconst DeleteButtonRenderer = () => {\n  return /*#__PURE__*/_jsxDEV(Delete, {\n    fontSize: \"small\",\n    style: {\n      display: 'block',\n      margin: 'auto'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 10\n  }, this);\n};\n\n_c3 = DeleteButtonRenderer;\n\nconst dateFormatter = params => {\n  const date = params.value;\n  let momentDate = moment(date);\n  return momentDate.toString();\n};\n\nconst DeleteDialog = props => {\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: props.open,\n    onClose: props.handleClose,\n    \"aria-labelledby\": \"alert-dialog-title\",\n    \"aria-describedby\": \"alert-dialog-description\",\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: [\"Do you want to delete \", '\"', props.bike ? props.bike.name : '', '\"', \"?\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: props.handleClose,\n        color: \"secondary\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: props.handleDelete,\n        color: \"primary\",\n        autoFocus: true,\n        children: \"Confirm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_c4 = DeleteDialog;\n\nconst EditDialog = props => {\n  _s();\n\n  const [bike, setBike] = React.useState(null);\n  React.useEffect(() => {\n    setBike(props.bike);\n  }, [props.bike]);\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: props.open,\n    onClose: props.handleClose,\n    \"aria-labelledby\": \"alert-dialog-title\",\n    \"aria-describedby\": \"alert-dialog-description\",\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      id: \"alert-dialog-title\",\n      children: props.bike ? props.bike.name : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        id: \"name\",\n        label: \"Name\",\n        value: bike ? bike.name : '',\n        onChange: event => {\n          setBike({ ...bike,\n            name: event.target.value\n          });\n        },\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"dense\",\n        id: \"desc\",\n        label: \"Description\",\n        value: bike ? bike.description : '',\n        onChange: event => {\n          setBike({ ...bike,\n            description: event.target.value\n          });\n        },\n        fullWidth: true,\n        multiline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"dense\",\n        id: \"image\",\n        label: \"Image\",\n        value: bike ? bike.imageUrl : '',\n        onChange: event => {\n          setBike({ ...bike,\n            imageUrl: event.target.value\n          });\n        },\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Bike Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: bike ? bike.bikeType ? bike.bikeType : '' : '',\n            onChange: event => {\n              setBike({ ...bike,\n                bikeType: event.target.value\n              });\n            },\n            children: props.types.map((type, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: type._id,\n              children: type.title\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          style: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Bike Brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: bike ? bike.brand ? bike.brand : '' : '',\n            onChange: event => {\n              setBike({ ...bike,\n                brand: event.target.value\n              });\n            },\n            children: props.brands.map((brand, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: brand._id,\n              children: brand.name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: props.handleClose,\n        color: \"secondary\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => props.handleEdit(bike),\n        color: \"primary\",\n        autoFocus: true,\n        children: \"Confirm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditDialog, \"xKs151Kxpg70I5Y/IqBDwXsT1Hc=\");\n\n_c5 = EditDialog;\n\nconst BikeTable = props => {\n  _s2();\n\n  const [openDelete, setOpenDelete] = React.useState(false);\n  const [bikeToEdit, setBikeToEdit] = React.useState(null);\n\n  const handleClickOpenDelete = bike => {\n    setBikeToEdit(bike);\n    setOpenDelete(true);\n  };\n\n  const handleCloseDelete = () => {\n    setOpenDelete(false);\n    setBikeToEdit(null);\n  };\n\n  const handleDelete = () => {\n    BikeService.deleteBike(bikeToEdit._id);\n    setTableData(tableData.filter(value => value._id !== bikeToEdit._id));\n    setOpenDelete(false);\n    setBikeToEdit(null);\n  };\n\n  const [openEdit, setOpenEdit] = React.useState(false);\n\n  const handleClickOpenEdit = bike => {\n    setBikeToEdit(bike);\n    setOpenEdit(true);\n  };\n\n  const handleCloseEdit = () => {\n    setOpenEdit(false);\n    setBikeToEdit(null);\n  };\n\n  const handleEdit = bike => {\n    const updatedBike = { ...bike,\n      brand: bike.brand,\n      bikeType: bike.bikeType\n    };\n    setTableData(tableData.map(value => {\n      if (value._id === updatedBike._id) {\n        return updatedBike;\n      } else {\n        return value;\n      }\n    }));\n    BikeService.updateBike(updatedBike);\n    setOpenEdit(false);\n    setBikeToEdit(null);\n  };\n\n  const [brands, setBrands] = React.useState([]);\n  const [brandsMap, setBrandsMap] = React.useState({});\n  const [types, setTypes] = React.useState([]);\n  const [typesMap, setTypesMap] = React.useState({});\n  const [tableData, setTableData] = React.useState([]);\n  React.useEffect(async () => {\n    try {\n      const typeResult = await BikeTypeService.getBikeTypes();\n      let newTypesMap = {};\n      typeResult.forEach(element => {\n        newTypesMap[element._id] = element.title;\n      });\n      setTypes(typeResult);\n      setTypesMap(newTypesMap);\n      const brandResult = await BikeBrandService.getBikeBrands();\n      let newBrandsMap = {};\n      brandResult.forEach(element => {\n        newBrandsMap[element._id] = element.name;\n      });\n      setBrands(brandResult);\n      setBrandsMap(newBrandsMap);\n      const bikeResult = await BikeService.getBikes();\n      setTableData(bikeResult);\n    } catch (e) {\n      console.log(e);\n    }\n  }, []);\n\n  const onFirstDataRendered = params => {\n    params.api.sizeColumnsToFit();\n  };\n\n  const onGridSizeChanged = params => {\n    params.api.sizeColumnsToFit();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ag-theme-alpine\",\n    style: {\n      height: 600\n    },\n    children: [/*#__PURE__*/_jsxDEV(AgGridReact, {\n      rowData: tableData,\n      onFirstDataRendered: onFirstDataRendered,\n      onGridSizeChanged: onGridSizeChanged,\n      frameworkComponents: {\n        thumbrenderer: ThumbRenderer,\n        editbutton: EditButtonRenderer,\n        deletebutton: DeleteButtonRenderer\n      },\n      defaultColDef: {\n        sortable: true,\n        filter: true\n      },\n      rowSelection: \"multiple\",\n      children: [/*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"imageUrl\",\n        minWidth: 20,\n        headerName: \"Thumbnail\",\n        checkboxSelection: true,\n        cellRenderer: \"thumbrenderer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"name\",\n        minWidth: 80,\n        onCellClicked: params => {\n          props.history.push('/bike/' + params.data._id);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        headerName: \"Bike Type\",\n        field: \"bikeType\",\n        minWidth: 80,\n        valueFormatter: params => {\n          return typesMap[params.value] ? typesMap[params.value] : '';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        headerName: \"Brand\",\n        field: \"brand\",\n        minWidth: 80,\n        valueFormatter: params => {\n          return brandsMap[params.value] ? brandsMap[params.value] : '';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"creationDate\",\n        minWidth: 80,\n        headerName: \"Creation Date\",\n        valueFormatter: dateFormatter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        field: \"lastUpdatedDate\",\n        minWidth: 80,\n        headerName: \"Last Update\",\n        valueFormatter: dateFormatter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        width: 20,\n        cellRenderer: \"editbutton\",\n        onCellClicked: params => {\n          handleClickOpenEdit(params.data);\n        },\n        cellStyle: {\n          height: '100%',\n          display: 'flex ',\n          'justify-content': 'center',\n          'align-items': 'center '\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n        width: 20,\n        onCellClicked: params => {\n          handleClickOpenDelete(params.data);\n        },\n        cellStyle: {\n          height: '100%',\n          display: 'flex ',\n          'justify-content': 'center',\n          'align-items': 'center '\n        },\n        cellRenderer: \"deletebutton\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteDialog, {\n      open: openDelete,\n      handleClose: handleCloseDelete,\n      handleDelete: handleDelete,\n      bike: bikeToEdit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditDialog, {\n      open: openEdit,\n      handleClose: handleCloseEdit,\n      handleEdit: handleEdit,\n      bike: bikeToEdit,\n      brands: brands,\n      types: types\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(BikeTable, \"3u9yuNY6UdtfyFQysh/MIOfNfd0=\");\n\n_c6 = BikeTable;\nexport default _c7 = withRouter(BikeTable);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"ThumbRenderer\");\n$RefreshReg$(_c2, \"EditButtonRenderer\");\n$RefreshReg$(_c3, \"DeleteButtonRenderer\");\n$RefreshReg$(_c4, \"DeleteDialog\");\n$RefreshReg$(_c5, \"EditDialog\");\n$RefreshReg$(_c6, \"BikeTable\");\n$RefreshReg$(_c7, \"%default%\");","map":{"version":3,"sources":["/Users/carinawollendorfer/selfix/frontend/src/components/cms/BikeTable.js"],"names":["React","AgGridColumn","AgGridReact","withRouter","moment","Edit","Delete","BikeService","BikeBrandService","BikeTypeService","Dialog","DialogActions","DialogTitle","Button","DialogContent","TextField","Select","MenuItem","FormControl","InputLabel","Zoom","ThumbRenderer","params","display","value","width","height","EditButtonRenderer","margin","DeleteButtonRenderer","dateFormatter","date","momentDate","toString","DeleteDialog","props","open","handleClose","bike","name","handleDelete","EditDialog","setBike","useState","useEffect","event","target","description","imageUrl","bikeType","types","map","type","index","_id","title","brand","brands","handleEdit","BikeTable","openDelete","setOpenDelete","bikeToEdit","setBikeToEdit","handleClickOpenDelete","handleCloseDelete","deleteBike","setTableData","tableData","filter","openEdit","setOpenEdit","handleClickOpenEdit","handleCloseEdit","updatedBike","updateBike","setBrands","brandsMap","setBrandsMap","setTypes","typesMap","setTypesMap","typeResult","getBikeTypes","newTypesMap","forEach","element","brandResult","getBikeBrands","newBrandsMap","bikeResult","getBikes","e","console","log","onFirstDataRendered","api","sizeColumnsToFit","onGridSizeChanged","thumbrenderer","editbutton","deletebutton","sortable","history","push","data"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport { withRouter } from 'react-router-dom';\n\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport moment from 'moment';\nimport { Edit, Delete } from '@material-ui/icons';\nimport BikeService from '../../services/BikeService';\nimport BikeBrandService from '../../services/BikeBrandService';\nimport BikeTypeService from '../../services/BikeTypeService';\nimport {\n  Dialog,\n  DialogActions,\n  DialogTitle,\n  Button,\n  DialogContent,\n  TextField,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n} from '@material-ui/core';\nimport Zoom from 'react-medium-image-zoom';\nimport 'react-medium-image-zoom/dist/styles.css';\n\nconst ThumbRenderer = (params) => {\n  return (\n    <Zoom wrapStyle={{ display: 'block' }}>\n      <img loading=\"lazy\" src={params.value} alt=\"Thumbnail\" style={{ display: 'block', width: 35, height: 'auto' }} />\n    </Zoom>\n  );\n};\n\nconst EditButtonRenderer = () => {\n  return <Edit fontSize=\"small\" style={{ display: 'block', margin: 'auto' }} />;\n};\n\nconst DeleteButtonRenderer = () => {\n  return <Delete fontSize=\"small\" style={{ display: 'block', margin: 'auto' }} />;\n};\n\nconst dateFormatter = (params) => {\n  const date = params.value;\n  let momentDate = moment(date);\n  return momentDate.toString();\n};\n\nconst DeleteDialog = (props) => {\n  return (\n    <Dialog\n      open={props.open}\n      onClose={props.handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle>\n        Do you want to delete {'\"'}\n        {props.bike ? props.bike.name : ''}\n        {'\"'}?\n      </DialogTitle>\n      <DialogActions>\n        <Button onClick={props.handleClose} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button onClick={props.handleDelete} color=\"primary\" autoFocus>\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst EditDialog = (props) => {\n  const [bike, setBike] = React.useState(null);\n\n  React.useEffect(() => {\n    setBike(props.bike);\n  }, [props.bike]);\n\n  return (\n    <Dialog\n      open={props.open}\n      onClose={props.handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{props.bike ? props.bike.name : ''}</DialogTitle>\n      <DialogContent>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          id=\"name\"\n          label=\"Name\"\n          value={bike ? bike.name : ''}\n          onChange={(event) => {\n            setBike({\n              ...bike,\n              name: event.target.value,\n            });\n          }}\n          fullWidth\n        />\n        <TextField\n          margin=\"dense\"\n          id=\"desc\"\n          label=\"Description\"\n          value={bike ? bike.description : ''}\n          onChange={(event) => {\n            setBike({\n              ...bike,\n              description: event.target.value,\n            });\n          }}\n          fullWidth\n          multiline\n        />\n        <TextField\n          margin=\"dense\"\n          id=\"image\"\n          label=\"Image\"\n          value={bike ? bike.imageUrl : ''}\n          onChange={(event) => {\n            setBike({\n              ...bike,\n              imageUrl: event.target.value,\n            });\n          }}\n          fullWidth\n        />\n        <div>\n          <FormControl style={{ width: '100%' }}>\n            <InputLabel>Bike Type</InputLabel>\n            <Select\n              value={bike ? (bike.bikeType ? bike.bikeType : '') : ''}\n              onChange={(event) => {\n                setBike({\n                  ...bike,\n                  bikeType: event.target.value,\n                });\n              }}\n            >\n              {props.types.map((type, index) => (\n                <MenuItem key={index} value={type._id}>\n                  {type.title}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n        <div>\n          <FormControl style={{ width: '100%' }}>\n            <InputLabel>Bike Brand</InputLabel>\n            <Select\n              value={bike ? (bike.brand ? bike.brand : '') : ''}\n              onChange={(event) => {\n                setBike({\n                  ...bike,\n                  brand: event.target.value,\n                });\n              }}\n            >\n              {props.brands.map((brand, index) => (\n                <MenuItem key={index} value={brand._id}>\n                  {brand.name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={props.handleClose} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button onClick={() => props.handleEdit(bike)} color=\"primary\" autoFocus>\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst BikeTable = (props) => {\n  const [openDelete, setOpenDelete] = React.useState(false);\n\n  const [bikeToEdit, setBikeToEdit] = React.useState(null);\n\n  const handleClickOpenDelete = (bike) => {\n    setBikeToEdit(bike);\n    setOpenDelete(true);\n  };\n\n  const handleCloseDelete = () => {\n    setOpenDelete(false);\n    setBikeToEdit(null);\n  };\n\n  const handleDelete = () => {\n    BikeService.deleteBike(bikeToEdit._id);\n    setTableData(tableData.filter((value) => value._id !== bikeToEdit._id));\n    setOpenDelete(false);\n    setBikeToEdit(null);\n  };\n\n  const [openEdit, setOpenEdit] = React.useState(false);\n\n  const handleClickOpenEdit = (bike) => {\n    setBikeToEdit(bike);\n    setOpenEdit(true);\n  };\n\n  const handleCloseEdit = () => {\n    setOpenEdit(false);\n    setBikeToEdit(null);\n  };\n\n  const handleEdit = (bike) => {\n    const updatedBike = {\n      ...bike,\n      brand: bike.brand,\n      bikeType: bike.bikeType,\n    };\n    setTableData(\n      tableData.map((value) => {\n        if (value._id === updatedBike._id) {\n          return updatedBike;\n        } else {\n          return value;\n        }\n      })\n    );\n    BikeService.updateBike(updatedBike);\n    setOpenEdit(false);\n    setBikeToEdit(null);\n  };\n\n  const [brands, setBrands] = React.useState([]);\n  const [brandsMap, setBrandsMap] = React.useState({});\n\n  const [types, setTypes] = React.useState([]);\n  const [typesMap, setTypesMap] = React.useState({});\n\n  const [tableData, setTableData] = React.useState([]);\n\n  React.useEffect(async () => {\n    try{\n      const typeResult = await BikeTypeService.getBikeTypes();\n      let newTypesMap = {};\n      typeResult.forEach((element) => {\n        newTypesMap[element._id] = element.title;\n      });\n      setTypes(typeResult);\n      setTypesMap(newTypesMap);\n\n      const brandResult = await BikeBrandService.getBikeBrands();\n      let newBrandsMap = {};\n      brandResult.forEach(element => {\n        newBrandsMap[element._id] = element.name;\n      });\n      setBrands(brandResult);\n      setBrandsMap(newBrandsMap);\n      const bikeResult = await BikeService.getBikes();\n      setTableData(bikeResult);\n    } catch(e) {\n      console.log(e);\n    }\n  }, []);\n\n  const onFirstDataRendered = (params) => {\n    params.api.sizeColumnsToFit();\n  };\n\n  const onGridSizeChanged = (params) => {\n    params.api.sizeColumnsToFit();\n  };\n\n  return (\n    <div className=\"ag-theme-alpine\" style={{ height: 600 }}>\n      <AgGridReact\n        rowData={tableData}\n        onFirstDataRendered={onFirstDataRendered}\n        onGridSizeChanged={onGridSizeChanged}\n        frameworkComponents={{\n          thumbrenderer: ThumbRenderer,\n          editbutton: EditButtonRenderer,\n          deletebutton: DeleteButtonRenderer,\n        }}\n        defaultColDef={{\n          sortable: true,\n          filter: true,\n        }}\n        rowSelection=\"multiple\"\n      >\n        <AgGridColumn\n          field=\"imageUrl\"\n          minWidth={20}\n          headerName=\"Thumbnail\"\n          checkboxSelection={true}\n          cellRenderer=\"thumbrenderer\"\n        />\n        <AgGridColumn\n          field=\"name\"\n          minWidth={80}\n          onCellClicked={(params) => {\n            props.history.push('/bike/' + params.data._id);\n          }}\n        />\n        <AgGridColumn\n          headerName=\"Bike Type\"\n          field=\"bikeType\"\n          minWidth={80}\n          valueFormatter={(params) => {\n            return typesMap[params.value] ? typesMap[params.value] : '';\n          }}\n        />\n        <AgGridColumn\n          headerName=\"Brand\"\n          field=\"brand\"\n          minWidth={80}\n          valueFormatter={(params) => {\n            return brandsMap[params.value] ? brandsMap[params.value] : '';\n          }}\n        />\n        <AgGridColumn field=\"creationDate\" minWidth={80} headerName=\"Creation Date\" valueFormatter={dateFormatter} />\n        <AgGridColumn field=\"lastUpdatedDate\" minWidth={80} headerName=\"Last Update\" valueFormatter={dateFormatter} />\n        <AgGridColumn\n          width={20}\n          cellRenderer=\"editbutton\"\n          onCellClicked={(params) => {\n            handleClickOpenEdit(params.data);\n          }}\n          cellStyle={{\n            height: '100%',\n            display: 'flex ',\n            'justify-content': 'center',\n            'align-items': 'center ',\n          }}\n        />\n        <AgGridColumn\n          width={20}\n          onCellClicked={(params) => {\n            handleClickOpenDelete(params.data);\n          }}\n          cellStyle={{\n            height: '100%',\n            display: 'flex ',\n            'justify-content': 'center',\n            'align-items': 'center ',\n          }}\n          cellRenderer=\"deletebutton\"\n        />\n      </AgGridReact>\n      <DeleteDialog open={openDelete} handleClose={handleCloseDelete} handleDelete={handleDelete} bike={bikeToEdit} />\n      <EditDialog\n        open={openEdit}\n        handleClose={handleCloseEdit}\n        handleEdit={handleEdit}\n        bike={bikeToEdit}\n        brands={brands}\n        types={types}\n      />\n    </div>\n  );\n};\n\nexport default withRouter(BikeTable);\n"]},"metadata":{},"sourceType":"module"}